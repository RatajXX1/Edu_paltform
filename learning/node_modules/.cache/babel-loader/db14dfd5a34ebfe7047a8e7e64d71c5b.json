{"ast":null,"code":"var _jsxFileName = \"/Users/michalratajewski/edupage/files/learning/src/windows/CreateLesson.js\";\nimport React, { memo, useMemo } from \"react\";\nimport '../styles/CreateLesson.css';\nimport Cropper from \"react-cropper\";\nimport 'cropperjs/dist/cropper.css';\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport Calendar_pop from \"./calendar_pop\";\nimport ShareLesson from \"./ShareLesson\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreateLesson extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      EditFile: false,\n      CalendarOpen: false,\n      Content: {\n        Subject: '',\n        Image: '',\n        Desc: '',\n        Lesson: [{\n          Text: '',\n          Answer: 1,\n          Files: []\n        }],\n        EnableCode: 0,\n        Code: '',\n        CanExpire: 0,\n        Expire: new Date().toLocaleDateString(),\n        Users: [],\n        Groups: []\n      }\n    };\n    this.cropref = /*#__PURE__*/React.createRef();\n    this.modules = {\n      toolbar: {\n        container: [[{\n          'header': [1, 2, 3, 4, 5, 6, false]\n        }], ['bold', 'italic', 'underline'], [{\n          'list': 'ordered'\n        }, {\n          'list': 'bullet'\n        }], [{\n          'align': []\n        }], ['link', 'image'], ['clean'], [{\n          'color': []\n        }]] // handlers: {\n        //     image: imageHandler,\n        // },\n\n      }\n    };\n  }\n\n  onSelectedFIle(e) {\n    if (e.target.files.length > 0) {\n      this.setState({\n        EditFile: true\n      });\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n\n      reader.onload = d => {\n        const img = new Image();\n        img.src = d.target.result;\n\n        img.onload = c => {\n          var _this$cropref;\n\n          (_this$cropref = this.cropref) === null || _this$cropref === void 0 ? void 0 : _this$cropref.current.cropper.replace(c.target.src);\n        };\n      };\n    } else {\n      this.setState({\n        EditFile: false\n      });\n    }\n  }\n\n  ClickOnDate(time) {\n    // console.log(time)\n    time.setMonth(time.getMonth() + 1);\n    document.querySelector('#CreateLesson_main_view_expire_date_input').value = time.getFullYear() + '-' + (time.getMonth().toString().length === 1 ? '0' + time.getMonth() : time.getMonth()) + '-' + (time.getDate().toString().length === 1 ? '0' + time.getDate() : time.getDate());\n  }\n\n  RemoveChapter(id) {\n    if (this.state.Content.Lesson[id] !== undefined) {\n      this.state.Content.Lesson.splice(id, 1);\n      this.forceUpdate();\n    }\n  }\n\n  renderFiles(id) {\n    const tas = [];\n\n    for (let d = 0; d < this.state.Content.Lesson[id].Files.length; d++) {\n      tas.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt ',\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          className: \"bi bi-file-arrow-down\",\n          viewBox: \"0 0 16 16\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          children: this.state.Content.Lesson[id].Files[d].name.substr(1, 20)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: 'Dash_main_view_body_chapter_files_item_close',\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 16 16\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 22\n      }, this));\n    }\n\n    return tas;\n  }\n\n  RenderChapters() {\n    const tab = [];\n\n    for (let i = 0; i < this.state.Content.Lesson.length; i++) {\n      tab.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_body_text',\n        children: [this.state.Content.Lesson.length > 1 && /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Rodzia\\u0142. \", i + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 61\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          modules: this.modules,\n          className: 'CreateLesson_main_view_editor',\n          placeholder: 'Zawartość lekcji',\n          onChange: html => {\n            this.state.Content.Lesson[i].Text = html;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this), this.state.Content.Lesson.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'CreateLesson_main_view_body_remove_chapter',\n          onClick: this.RemoveChapter.bind(this, i),\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"16\",\n            height: \"16\",\n            className: \"bi bi-x\",\n            viewBox: \"0 0 16 16\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 21\n          }, this), \"Usu\\u0144 rozdzia\\u0142\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 60\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text_answer',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              display: 'inline-block',\n              marginTop: '15px'\n            },\n            children: \"Odpowiedz w formie:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: e => {\n              this.state.Content.Lesson[i].Answer = e.target.value;\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 1,\n              children: \"tekstu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 2,\n              children: \"pliku/\\xF3w\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 3,\n              children: \"pliku/\\xF3w i tekstu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Za\\u0142acz pliki\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'file',\n              multiple: true,\n              style: {\n                display: 'none'\n              },\n              onChange: e => {\n                this.state.Content.Lesson[i].Files = [...this.state.Content.Lesson[i].Files, ...e.target.files];\n                this.forceUpdate();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'CreateLesson_main_view_body_text_answer_files',\n            children: this.renderFiles(i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 22\n      }, this));\n    }\n\n    return tab;\n  }\n\n  addChapter() {\n    // console.log(this.state.Content.Lesson[0].Text)\n    if (this.state.Content.Lesson.length < 11) {\n      this.state.Content.Lesson.push({\n        Text: '',\n        Answer: 1,\n        Files: []\n      });\n      this.forceUpdate();\n    }\n  }\n\n  async sendForm() {\n    // if is ok when post data\n    console.log(this.state.Content.Lesson[0].Text);\n\n    try {\n      const resp = await fetch(\"http://192.168.0.7:8080/api/Lessons/CreateLesson.php\", {\n        method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.Content),\n        credentials: 'include'\n      }).then(data => data.json()).catch(null);\n\n      if (resp !== null) {\n        if (resp[\"CODE\"] === 'OK') {\n          // window.sessionStorage.setItem('Token', resp['Token'])\n          alert('Lesson created!');\n          return true;\n        } else {\n          return false;\n        }\n      } else return false;\n    } catch (e) {\n      return false;\n    }\n  } // Select background photo -- done\n  // Set a Subject and set description of lesson (maybe optional)\n  // Set many chapters of lesson with can check\n  // Set summary for chapter or full lesson\n  //\n  //\n  //\n  //\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'CreateLesson_main_view',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_header',\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tworzenie lekcje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_body',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderBottom: '1px solid #282c34'\n          },\n          onClick: () => {\n            document.querySelector('#subject_input').focus();\n          },\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Temat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: 'subject_input',\n            type: 'text',\n            onChange: e => {\n              this.state.Content.Subject = e.target.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_seletct_background',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              display: 'inline-block',\n              margin: '10px 0 0 0'\n            },\n            children: \"Ustaw zdjecie lekcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: 'CreateLesson_main_view_select_image',\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'file',\n              style: {\n                display: 'none'\n              },\n              accept: 'image/png, image/gif, image/jpeg',\n              onChange: e => {\n                this.onSelectedFIle(e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 29\n            }, this), \"Wybierz\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this), this.state.EditFile && /*#__PURE__*/_jsxDEV(Cropper, {\n            src: 'https://wallpaperaccess.com/full/1916098.jpg',\n            className: 'CreateLesson_main_view_body_seletct_background_edit',\n            aspectRatio: 16 / 9,\n            guides: false,\n            checkCrossOrigin: false,\n            responsive: true,\n            scaleX: 1,\n            viewMode: 3,\n            autoCropArea: 1,\n            minCropBoxHeight: 100,\n            minCropBoxWidth: 250,\n            ref: this.cropref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Opis lekcji (Opcjonalne)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: 'Opis',\n            onChange: e => {\n              this.state.Content.Desc = e.target.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Zawarto\\u015B\\u0107 lekcji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), this.RenderChapters(), this.state.Content.Lesson.length < 10 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'CreateLesson_main_view_add_chapter',\n          onClick: this.addChapter.bind(this),\n          children: \"Dodaj rozdzia\\u0142\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 64\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dost\\u0119pno\\u015B\\u0107 lekcji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"container_lesson\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              onChange: e => {\n                this.state.Content.EnableCode = e.target.value ? 1 : 0;\n                this.forceUpdate();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark_lesson\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Zabezpiecz dost\\u0119p do lekcje kodem\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 25\n          }, this), this.state.Content.EnableCode === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'CreateLesson_main_view_PassCode',\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              style: {\n                display: 'block',\n                margin: '0 10px 10px 10px',\n                paddingLeft: '20px'\n              },\n              children: \"Aby wykonywa\\u0107 dan\\u0105 lekcja trzeba najpierw poda\\u0107 ten kod.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'text',\n              placeholder: 'Kod',\n              onChange: e => {\n                this.state.Content.Code = e.target.value;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Generuj losowy kod\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"container_lesson\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              onChange: e => {\n                this.state.Content.CanExpire = e.target.value ? 1 : 0;\n                this.forceUpdate();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark_lesson\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ogranicz czasowo widoczno\\u015Bc lekcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), this.state.Content.CanExpire === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 'fit-content'\n            },\n            className: 'CreateLesson_main_view_expire_date',\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"Data po kt\\xF3rej lekcja nie b\\u0119dzie ju\\u017C widoczna\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: 'CreateLesson_main_view_expire_date_input',\n              onClick: () => {\n                {\n                  this.setState({\n                    CalendarOpen: true\n                  });\n                }\n              },\n              type: 'button',\n              value: '2022-04-1'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 33\n            }, this), this.state.CalendarOpen && /*#__PURE__*/_jsxDEV(Calendar_pop, {\n              onSelect: e => {\n                this.ClickOnDate(e);\n              },\n              close: () => {\n                this.setState({\n                  CalendarOpen: false\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Przypisz u\\u017Cytkownik\\xF3w bad\\u017A grupy do lekcji.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ShareLesson, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_summary',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.sendForm.bind(this),\n          children: \"Stw\\xF3rz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/CreateLesson.js"],"names":["React","memo","useMemo","Cropper","ReactQuill","Calendar_pop","ShareLesson","CreateLesson","Component","constructor","props","state","EditFile","CalendarOpen","Content","Subject","Image","Desc","Lesson","Text","Answer","Files","EnableCode","Code","CanExpire","Expire","Date","toLocaleDateString","Users","Groups","cropref","createRef","modules","toolbar","container","onSelectedFIle","e","target","files","length","setState","reader","FileReader","readAsDataURL","onload","d","img","src","result","c","current","cropper","replace","ClickOnDate","time","setMonth","getMonth","document","querySelector","value","getFullYear","toString","getDate","RemoveChapter","id","undefined","splice","forceUpdate","renderFiles","tas","push","name","substr","RenderChapters","tab","i","html","bind","display","marginTop","addChapter","sendForm","console","log","resp","fetch","method","headers","body","JSON","stringify","credentials","then","data","json","catch","alert","render","borderBottom","focus","margin","paddingLeft","width"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,IAAf,EAAqBC,OAArB,QAAmC,OAAnC;AACA,OAAO,4BAAP;AAEA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAO,4BAAP;AAEA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAO,iCAAP;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;AAEA,eAAe,MAAMC,YAAN,SAA2BP,KAAK,CAACQ,SAAjC,CAA2C;AAEtDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,YAAY,EAAE,KAFL;AAGTC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,EADJ;AAELC,QAAAA,KAAK,EAAE,EAFF;AAGLC,QAAAA,IAAI,EAAE,EAHD;AAILC,QAAAA,MAAM,EAAE,CACJ;AACIC,UAAAA,IAAI,EAAE,EADV;AAEIC,UAAAA,MAAM,EAAE,CAFZ;AAGIC,UAAAA,KAAK,EAAE;AAHX,SADI,CAJH;AAWLC,QAAAA,UAAU,EAAE,CAXP;AAYLC,QAAAA,IAAI,EAAE,EAZD;AAaLC,QAAAA,SAAS,EAAE,CAbN;AAcLC,QAAAA,MAAM,EAAE,IAAIC,IAAJ,GAAWC,kBAAX,EAdH;AAeLC,QAAAA,KAAK,EAAE,EAfF;AAgBLC,QAAAA,MAAM,EAAE;AAhBH;AAHA,KAAb;AAuBA,SAAKC,OAAL,gBAAe9B,KAAK,CAAC+B,SAAN,EAAf;AAEA,SAAKC,OAAL,GAAe;AACXC,MAAAA,OAAO,EAAE;AACLC,QAAAA,SAAS,EAAE,CACP,CAAC;AAAE,oBAAU,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,KAAnB;AAAZ,SAAD,CADO,EAEP,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,CAFO,EAGP,CAAC;AAAE,kBAAQ;AAAV,SAAD,EAAwB;AAAE,kBAAQ;AAAV,SAAxB,CAHO,EAIP,CAAC;AAAE,mBAAS;AAAX,SAAD,CAJO,EAKP,CAAC,MAAD,EAAS,OAAT,CALO,EAMP,CAAC,OAAD,CANO,EAOP,CAAC;AAAE,mBAAS;AAAX,SAAD,CAPO,CADN,CAYL;AACA;AACA;;AAdK;AADE,KAAf;AAkBH;;AAGDC,EAAAA,cAAc,CAACC,CAAD,EAAI;AACd,QAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAf,GAAwB,CAA5B,EAA+B;AAC3B,WAAKC,QAAL,CAAc;AAAC5B,QAAAA,QAAQ,EAAE;AAAX,OAAd;AACA,YAAM6B,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,aAAP,CAAqBP,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAArB;;AACAG,MAAAA,MAAM,CAACG,MAAP,GAAiBC,CAAD,IAAO;AACnB,cAAMC,GAAG,GAAG,IAAI9B,KAAJ,EAAZ;AACA8B,QAAAA,GAAG,CAACC,GAAJ,GAAUF,CAAC,CAACR,MAAF,CAASW,MAAnB;;AACAF,QAAAA,GAAG,CAACF,MAAJ,GAAcK,CAAD,IAAO;AAAA;;AAChB,gCAAKnB,OAAL,gEAAcoB,OAAd,CAAsBC,OAAtB,CAA8BC,OAA9B,CAAsCH,CAAC,CAACZ,MAAF,CAASU,GAA/C;AACH,SAFD;AAGH,OAND;AAOH,KAXD,MAWO;AACH,WAAKP,QAAL,CAAc;AAAC5B,QAAAA,QAAQ,EAAE;AAAX,OAAd;AACH;AACJ;;AAEDyC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd;AACAA,IAAAA,IAAI,CAACC,QAAL,CAAcD,IAAI,CAACE,QAAL,KAAkB,CAAhC;AACAC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,2CAAvB,EACKC,KADL,GACaL,IAAI,CAACM,WAAL,KAAqB,GAArB,IAA4BN,IAAI,CAACE,QAAL,GAAgBK,QAAhB,GAA2BtB,MAA3B,KAAsC,CAAtC,GAA0C,MAAMe,IAAI,CAACE,QAAL,EAAhD,GAAkEF,IAAI,CAACE,QAAL,EAA9F,IAAiH,GAAjH,IAAwHF,IAAI,CAACQ,OAAL,GAAeD,QAAf,GAA0BtB,MAA1B,KAAqC,CAArC,GAAyC,MAAMe,IAAI,CAACQ,OAAL,EAA/C,GAAgER,IAAI,CAACQ,OAAL,EAAxL,CADb;AAEH;;AAEDC,EAAAA,aAAa,CAACC,EAAD,EAAK;AACd,QAAI,KAAKrD,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0B8C,EAA1B,MAAkCC,SAAtC,EAAiD;AAC7C,WAAKtD,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BgD,MAA1B,CAAiCF,EAAjC,EAAsC,CAAtC;AACA,WAAKG,WAAL;AACH;AACJ;;AAEDC,EAAAA,WAAW,CAACJ,EAAD,EAAK;AACZ,UAAMK,GAAG,GAAG,EAAZ;;AACA,SAAI,IAAIxB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKlC,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0B8C,EAA1B,EAA8B3C,KAA9B,CAAoCkB,MAAvD,EAA+DM,CAAC,EAAhE,EAAoE;AAChEwB,MAAAA,GAAG,CAACC,IAAJ,eAAS;AAAK,QAAA,SAAS,EAAE,yFAAhB;AAAA,gCACL;AAAK,UAAA,KAAK,EAAC,4BAAX;AAAwC,UAAA,KAAK,EAAC,IAA9C;AAAmD,UAAA,MAAM,EAAC,IAA1D;AACK,UAAA,SAAS,EAAC,uBADf;AACuC,UAAA,OAAO,EAAC,WAD/C;AAAA,kCAEI;AACI,YAAA,CAAC,EAAC;AADN;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAII;AACI,YAAA,CAAC,EAAC;AADN;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADK,eAQL;AAAA,oBAAI,KAAK3D,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0B8C,EAA1B,EAA8B3C,KAA9B,CAAoCwB,CAApC,EAAuC0B,IAAvC,CAA4CC,MAA5C,CAAmD,CAAnD,EAAsD,EAAtD;AAAJ;AAAA;AAAA;AAAA;AAAA,gBARK,eASL;AAAK,UAAA,SAAS,EAAE,8CAAhB;AAAgE,UAAA,KAAK,EAAC,4BAAtE;AAAmG,UAAA,KAAK,EAAC,IAAzG;AAA8G,UAAA,MAAM,EAAC,IAArH;AACK,UAAA,OAAO,EAAC,WADb;AAAA,iCAEI;AACI,YAAA,CAAC,EAAC;AADN;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,gBATK;AAAA;AAAA;AAAA;AAAA;AAAA,cAAT;AAeH;;AACD,WAAOH,GAAP;AACH;;AAEDI,EAAAA,cAAc,GAAG;AACb,UAAMC,GAAG,GAAG,EAAZ;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKhE,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BqB,MAA7C,EAAqDoC,CAAC,EAAtD,EAA0D;AACtDD,MAAAA,GAAG,CAACJ,IAAJ,eAAS;AAAK,QAAA,SAAS,EAAE,kCAAhB;AAAA,mBACF,KAAK3D,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BqB,MAA1B,GAAmC,CAApC,iBAA0C;AAAA,uCAAcoC,CAAC,GAAG,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADvC,eAEL,QAAC,UAAD;AAAY,UAAA,OAAO,EAAE,KAAK3C,OAA1B;AAAmC,UAAA,SAAS,EAAE,+BAA9C;AAA+E,UAAA,WAAW,EAAE,kBAA5F;AAAgH,UAAA,QAAQ,EAAG4C,IAAD,IAAU;AAAC,iBAAKjE,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0ByD,CAA1B,EAA6BxD,IAA7B,GAAoCyD,IAApC;AAAyC;AAA9K;AAAA;AAAA;AAAA;AAAA,gBAFK,EAIH,KAAKjE,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BqB,MAA1B,GAAmC,CAApC,iBAA0C;AAAQ,UAAA,SAAS,EAAE,4CAAnB;AAAiE,UAAA,OAAO,EAAE,KAAKwB,aAAL,CAAmBc,IAAnB,CAAwB,IAAxB,EAA8BF,CAA9B,CAA1E;AAAA,kCACvC;AAAK,YAAA,KAAK,EAAC,4BAAX;AAAwC,YAAA,KAAK,EAAC,IAA9C;AAAmD,YAAA,MAAM,EAAC,IAA1D;AACK,YAAA,SAAS,EAAC,SADf;AACyB,YAAA,OAAO,EAAC,WADjC;AAAA,mCAEI;AACI,cAAA,CAAC,EAAC;AADN;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,kBADuC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJtC,eAaL;AAAK,UAAA,SAAS,EAAE,yCAAhB;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACG,cAAAA,OAAO,EAAE,cAAV;AAA0BC,cAAAA,SAAS,EAAE;AAArC,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAQ,YAAA,QAAQ,EAAG3C,CAAD,IAAO;AAAC,mBAAKzB,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0ByD,CAA1B,EAA6BvD,MAA7B,GAAsCgB,CAAC,CAACC,MAAF,CAASsB,KAA/C;AAAqD,aAA/E;AAAA,oCACI;AAAQ,cAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAQ,cAAA,KAAK,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAOI;AAAA,yDAEI;AAAO,cAAA,IAAI,EAAE,MAAb;AAAqB,cAAA,QAAQ,MAA7B;AAA8B,cAAA,KAAK,EAAE;AAACmB,gBAAAA,OAAO,EAAE;AAAV,eAArC;AAAwD,cAAA,QAAQ,EAC3D1C,CAAD,IAAO;AACH,qBAAKzB,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0ByD,CAA1B,EAA6BtD,KAA7B,GAAqC,CAAC,GAAG,KAAKV,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0ByD,CAA1B,EAA6BtD,KAAjC,EAAwC,GAAGe,CAAC,CAACC,MAAF,CAASC,KAApD,CAArC;AACA,qBAAK6B,WAAL;AACH;AAJL;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAgBI;AAAK,YAAA,SAAS,EAAE,+CAAhB;AAAA,sBAEO,KAAKC,WAAL,CAAiBO,CAAjB;AAFP;AAAA;AAAA;AAAA;AAAA,kBAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbK;AAAA;AAAA;AAAA;AAAA;AAAA,cAAT;AAoCH;;AACD,WAAOD,GAAP;AACH;;AAEDM,EAAAA,UAAU,GAAG;AACT;AACA,QAAI,KAAKrE,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BqB,MAA1B,GAAmC,EAAvC,EAA2C;AACvC,WAAK5B,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BoD,IAA1B,CAA+B;AAACnD,QAAAA,IAAI,EAAE,EAAP;AAAWC,QAAAA,MAAM,EAAE,CAAnB;AAAsBC,QAAAA,KAAK,EAAE;AAA7B,OAA/B;AACA,WAAK8C,WAAL;AACH;AACJ;;AAEa,QAARc,QAAQ,GAAG;AACb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKxE,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0B,CAA1B,EAA6BC,IAAzC;;AACA,QAAI;AACA,YAAMiE,IAAI,GAAG,MAAMC,KAAK,CAAC,sDAAD,EAAyD;AAC7EC,QAAAA,MAAM,EAAE,MADqE;AAE7EC,QAAAA,OAAO,EAAE;AACL,yCAA8B,GADzB;AAEL,0BAAgB;AAFX,SAFoE;AAM7EC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAK/E,KAAL,CAAWG,OAA1B,CANuE;AAO7E6E,QAAAA,WAAW,EAAE;AAPgE,OAAzD,CAAL,CAQhBC,IARgB,CAQXC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARG,EAQUC,KARV,CAQgB,IARhB,CAAnB;;AAUA,UAAIX,IAAI,KAAK,IAAb,EAAmB;AACf,YAAIA,IAAI,CAAC,MAAD,CAAJ,KAAiB,IAArB,EAA2B;AACvB;AACAY,UAAAA,KAAK,CAAC,iBAAD,CAAL;AACA,iBAAO,IAAP;AACH,SAJD,MAIO;AACH,iBAAO,KAAP;AACH;AACJ,OARD,MAQO,OAAO,KAAP;AAEV,KArBD,CAqBE,OAAO5D,CAAP,EAAU;AACR,aAAO,KAAP;AACH;AACJ,GAtLqD,CAwLtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA6D,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAE,wBAAhB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAE,+BAAhB;AAAA,+BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAK,QAAA,SAAS,EAAE,6BAAhB;AAAA,gCACI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,YAAY,EAAE;AAAf,WAAZ;AAAiD,UAAA,OAAO,EAAE,MAAM;AAACzC,YAAAA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCyC,KAAzC;AAAiD,WAAlH;AAAoH,UAAA,SAAS,EAAE,kCAA/H;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,EAAE,EAAE,eAAX;AAA4B,YAAA,IAAI,EAAE,MAAlC;AAA2C,YAAA,QAAQ,EAAG/D,CAAD,IAAO;AAAE,mBAAKzB,KAAL,CAAWG,OAAX,CAAmBC,OAAnB,GAA6BqB,CAAC,CAACC,MAAF,CAASsB,KAAtC;AAA6C;AAA3G;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAK,UAAA,SAAS,EAAE,gDAAhB;AAAA,kCACI;AAAG,YAAA,KAAK,EAAE;AAACmB,cAAAA,OAAO,EAAE,cAAV;AAA0BsB,cAAAA,MAAM,EAAE;AAAlC,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,SAAS,EAAE,qCAAlB;AAAA,oCACI;AAAO,cAAA,IAAI,EAAE,MAAb;AAAqB,cAAA,KAAK,EAAE;AAACtB,gBAAAA,OAAO,EAAE;AAAV,eAA5B;AAA+C,cAAA,MAAM,EAAE,kCAAvD;AACO,cAAA,QAAQ,EAAG1C,CAAD,IAAO;AACb,qBAAKD,cAAL,CAAoBC,CAApB;AACH;AAHR;AAAA;AAAA;AAAA;AAAA,oBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,EAUK,KAAKzB,KAAL,CAAWC,QAAX,iBACG,QAAC,OAAD;AAAS,YAAA,GAAG,EAAE,8CAAd;AACM,YAAA,SAAS,EAAE,qDADjB;AAEM,YAAA,WAAW,EAAE,KAAK,CAFxB;AAGM,YAAA,MAAM,EAAE,KAHd;AAIM,YAAA,gBAAgB,EAAE,KAJxB;AAKM,YAAA,UAAU,EAAE,IALlB;AAMM,YAAA,MAAM,EAAE,CANd;AAOM,YAAA,QAAQ,EAAE,CAPhB;AAQM,YAAA,YAAY,EAAE,CARpB;AASM,YAAA,gBAAgB,EAAE,GATxB;AAUM,YAAA,eAAe,EAAE,GAVvB;AAYM,YAAA,GAAG,EAAE,KAAKkB;AAZhB;AAAA;AAAA;AAAA;AAAA,kBAXR;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAiCI;AAAK,UAAA,SAAS,EAAE,kCAAhB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAU,YAAA,WAAW,EAAE,MAAvB;AAA+B,YAAA,QAAQ,EAAGM,CAAD,IAAO;AAAC,mBAAKzB,KAAL,CAAWG,OAAX,CAAmBG,IAAnB,GAA0BmB,CAAC,CAACC,MAAF,CAASsB,KAAnC;AAAyC;AAA1F;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCJ,eAqCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArCJ,EAsCK,KAAKc,cAAL,EAtCL,EAuCM,KAAK9D,KAAL,CAAWG,OAAX,CAAmBI,MAAnB,CAA0BqB,MAA1B,GAAmC,EAAnC,iBAAyC;AAAQ,UAAA,SAAS,EAAE,oCAAnB;AAAyD,UAAA,OAAO,EAAE,KAAKyC,UAAL,CAAgBH,IAAhB,CAAqB,IAArB,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvC/C,eAyCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzCJ,eA0CI;AAAK,UAAA,SAAS,EAAE,kCAAhB;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,kBAAjB;AAAA,oCACI;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,QAAQ,EAAGzC,CAAD,IAAO;AAAC,qBAAKzB,KAAL,CAAWG,OAAX,CAAmBQ,UAAnB,GAAiCc,CAAC,CAACC,MAAF,CAASsB,KAAT,GAAiB,CAAjB,GAAqB,CAAtD;AAA0D,qBAAKQ,WAAL;AAAmB;AAAtH;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,EAOQ,KAAKxD,KAAL,CAAWG,OAAX,CAAmBQ,UAAnB,KAAkC,CAAlC,iBACA;AAAK,YAAA,SAAS,EAAE,iCAAhB;AAAA,oCACI;AAAG,cAAA,KAAK,EAAE;AAACwD,gBAAAA,OAAO,EAAE,OAAV;AAAmBsB,gBAAAA,MAAM,EAAE,kBAA3B;AAA+CC,gBAAAA,WAAW,EAAE;AAA5D,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAGI;AAAO,cAAA,IAAI,EAAE,MAAb;AAAqB,cAAA,WAAW,EAAE,KAAlC;AAAyC,cAAA,QAAQ,EAAGjE,CAAD,IAAO;AAAC,qBAAKzB,KAAL,CAAWG,OAAX,CAAmBS,IAAnB,GAA0Ba,CAAC,CAACC,MAAF,CAASsB,KAAnC;AAAyC;AAApG;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBARR;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1CJ,eA4DI;AAAK,UAAA,SAAS,EAAE,kCAAhB;AAAA,kCACI;AAAO,YAAA,SAAS,EAAC,kBAAjB;AAAA,oCACI;AAAO,cAAA,IAAI,EAAC,UAAZ;AAAuB,cAAA,QAAQ,EAAGvB,CAAD,IAAO;AAAC,qBAAKzB,KAAL,CAAWG,OAAX,CAAmBU,SAAnB,GAAgCY,CAAC,CAACC,MAAF,CAASsB,KAAT,GAAiB,CAAjB,GAAqB,CAArD;AAAyD,qBAAKQ,WAAL;AAAmB;AAArH;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ,EAOQ,KAAKxD,KAAL,CAAWG,OAAX,CAAmBU,SAAnB,KAAiC,CAAjC,iBACA;AAAK,YAAA,KAAK,EAAE;AAAC8E,cAAAA,KAAK,EAAE;AAAR,aAAZ;AAAoC,YAAA,SAAS,EAAE,oCAA/C;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AACI,cAAA,EAAE,EAAE,0CADR;AAEI,cAAA,OAAO,EAAE,MAAM;AACX;AACI,uBAAK9D,QAAL,CAAc;AAAC3B,oBAAAA,YAAY,EAAE;AAAf,mBAAd;AACH;AACJ,eANL;AAOI,cAAA,IAAI,EAAE,QAPV;AAQI,cAAA,KAAK,EAAE;AARX;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAYK,KAAKF,KAAL,CAAWE,YAAX,iBAA2B,QAAC,YAAD;AAAc,cAAA,QAAQ,EAAGuB,CAAD,IAAO;AACvD,qBAAKiB,WAAL,CAAiBjB,CAAjB;AACH,eAF2B;AAEzB,cAAA,KAAK,EAAE,MAAM;AACZ,qBAAKI,QAAL,CAAc;AAAC3B,kBAAAA,YAAY,EAAE;AAAf,iBAAd;AACH;AAJ2B;AAAA;AAAA;AAAA;AAAA,oBAZhC;AAAA;AAAA;AAAA;AAAA;AAAA,kBARR;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5DJ,eAwFI;AAAK,UAAA,SAAS,EAAE,kCAAhB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAkGI;AAAK,QAAA,SAAS,EAAE,gCAAhB;AAAA,+BACI;AAAQ,UAAA,OAAO,EAAE,KAAKoE,QAAL,CAAcJ,IAAd,CAAmB,IAAnB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAlGJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAwGH;;AA1SqD","sourcesContent":["import React, {memo, useMemo} from \"react\";\nimport '../styles/CreateLesson.css';\n\nimport Cropper from \"react-cropper\";\nimport 'cropperjs/dist/cropper.css';\n\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\n\nimport Calendar_pop from \"./calendar_pop\";\nimport ShareLesson from \"./ShareLesson\";\n\nexport default class CreateLesson extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            EditFile: false,\n            CalendarOpen: false,\n            Content: {\n                Subject: '',\n                Image: '',\n                Desc: '',\n                Lesson: [\n                    {\n                        Text: '',\n                        Answer: 1,\n                        Files: [],\n                    }\n                ],\n                EnableCode: 0,\n                Code: '',\n                CanExpire: 0,\n                Expire: new Date().toLocaleDateString(),\n                Users: [],\n                Groups: []\n            }\n        }\n\n        this.cropref = React.createRef()\n\n        this.modules = {\n            toolbar: {\n                container: [\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n                    ['bold', 'italic', 'underline'],\n                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n                    [{ 'align': [] }],\n                    ['link', 'image'],\n                    ['clean'],\n                    [{ 'color': [] }]\n                ],\n\n\n                // handlers: {\n                //     image: imageHandler,\n                // },\n            }\n        }\n    }\n\n\n    onSelectedFIle(e) {\n        if (e.target.files.length > 0) {\n            this.setState({EditFile: true})\n            const reader = new FileReader()\n            reader.readAsDataURL(e.target.files[0])\n            reader.onload = (d) => {\n                const img = new Image()\n                img.src = d.target.result\n                img.onload = (c) => {\n                    this.cropref?.current.cropper.replace(c.target.src)\n                }\n            }\n        } else {\n            this.setState({EditFile: false})\n        }\n    }\n\n    ClickOnDate(time) {\n        // console.log(time)\n        time.setMonth(time.getMonth() + 1)\n        document.querySelector('#CreateLesson_main_view_expire_date_input')\n            .value = time.getFullYear() + '-' + (time.getMonth().toString().length === 1 ? '0' + time.getMonth() : time.getMonth()) + '-' + (time.getDate().toString().length === 1 ? '0' + time.getDate() : time.getDate())\n    }\n\n    RemoveChapter(id) {\n        if (this.state.Content.Lesson[id] !== undefined) {\n            this.state.Content.Lesson.splice(id , 1)\n            this.forceUpdate()\n        }\n    }\n\n    renderFiles(id) {\n        const tas = []\n        for(let d = 0; d < this.state.Content.Lesson[id].Files.length; d++) {\n            tas.push(<div className={'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt '}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                     className=\"bi bi-file-arrow-down\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"/>\n                    <path\n                        d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"/>\n                </svg>\n                <a>{this.state.Content.Lesson[id].Files[d].name.substr(1, 20)}</a>\n                <svg className={'Dash_main_view_body_chapter_files_item_close'} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                     viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                </svg>\n            </div>)\n        }\n        return tas\n    }\n\n    RenderChapters() {\n        const tab = []\n        for(let i = 0; i < this.state.Content.Lesson.length; i++) {\n            tab.push(<div className={'CreateLesson_main_view_body_text'}>\n                { (this.state.Content.Lesson.length > 1) && <h3>Rodział. {i + 1}</h3>}\n                <ReactQuill modules={this.modules} className={'CreateLesson_main_view_editor'} placeholder={'Zawartość lekcji'} onChange={(html) => {this.state.Content.Lesson[i].Text = html}}/>\n\n                {(this.state.Content.Lesson.length > 1) && <button className={'CreateLesson_main_view_body_remove_chapter'} onClick={this.RemoveChapter.bind(this, i)}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                         className=\"bi bi-x\" viewBox=\"0 0 16 16\">\n                        <path\n                            d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                    </svg>\n                    Usuń rozdział\n                </button>}\n\n                <div className={'CreateLesson_main_view_body_text_answer'}>\n                    <a style={{display: 'inline-block', marginTop: '15px'}}>Odpowiedz w formie:</a>\n                    <select onChange={(e) => {this.state.Content.Lesson[i].Answer = e.target.value}}>\n                        <option value={1}>tekstu</option>\n                        <option value={2}>pliku/ów</option>\n                        <option value={3}>pliku/ów i tekstu</option>\n                    </select>\n                    <label>\n                        Załacz pliki\n                        <input type={'file'} multiple style={{display: 'none'}} onChange={\n                            (e) => {\n                                this.state.Content.Lesson[i].Files = [...this.state.Content.Lesson[i].Files, ...e.target.files]\n                                this.forceUpdate()\n                            }\n                        }/>\n                    </label>\n                    <div className={'CreateLesson_main_view_body_text_answer_files'}>\n                        {\n                           this.renderFiles(i)\n                        }\n                    </div>\n                </div>\n            </div>)\n        }\n        return tab\n    }\n\n    addChapter() {\n        // console.log(this.state.Content.Lesson[0].Text)\n        if (this.state.Content.Lesson.length < 11) {\n            this.state.Content.Lesson.push({Text: '', Answer: 1, Files: []})\n            this.forceUpdate()\n        }\n    }\n\n    async sendForm() {\n        // if is ok when post data\n        console.log(this.state.Content.Lesson[0].Text)\n        try {\n            const resp = await fetch(\"http://192.168.0.7:8080/api/Lessons/CreateLesson.php\", {\n                method: \"POST\",\n                headers: {\n                    'Access-Control-Allow-Origin':'*',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.state.Content),\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n\n            if (resp !== null) {\n                if (resp[\"CODE\"] === 'OK') {\n                    // window.sessionStorage.setItem('Token', resp['Token'])\n                    alert('Lesson created!')\n                    return true\n                } else {\n                    return false\n                }\n            } else return false;\n\n        } catch (e) {\n            return false\n        }\n    }\n\n    // Select background photo -- done\n    // Set a Subject and set description of lesson (maybe optional)\n    // Set many chapters of lesson with can check\n    // Set summary for chapter or full lesson\n    //\n    //\n    //\n    //\n\n    render() {\n        return(\n            <div className={'CreateLesson_main_view'}>\n                <div className={'CreateLesson_main_view_header'}>\n                    <h1>Tworzenie lekcje</h1>\n                </div>\n                <div className={'CreateLesson_main_view_body'}>\n                    <div style={{borderBottom: '1px solid #282c34'}} onClick={() => {document.querySelector('#subject_input').focus()}} className={'CreateLesson_main_view_body_text'}>\n                        <h2>Temat</h2>\n                        <input id={'subject_input'} type={'text'}  onChange={(e) => { this.state.Content.Subject = e.target.value }}/>\n                    </div>\n                    <div className={'CreateLesson_main_view_body_seletct_background'}>\n                        <a style={{display: 'inline-block', margin: '10px 0 0 0'}}>Ustaw zdjecie lekcji</a>\n                        <label className={'CreateLesson_main_view_select_image'}>\n                            <input type={'file'} style={{display: 'none'}} accept={'image/png, image/gif, image/jpeg'}\n                                   onChange={(e) => {\n                                       this.onSelectedFIle(e)\n                                   }}/>\n                            Wybierz\n                        </label>\n\n                        {this.state.EditFile &&\n                            <Cropper src={'https://wallpaperaccess.com/full/1916098.jpg'}\n                                  className={'CreateLesson_main_view_body_seletct_background_edit'}\n                                  aspectRatio={16 / 9}\n                                  guides={false}\n                                  checkCrossOrigin={false}\n                                  responsive={true}\n                                  scaleX={1}\n                                  viewMode={3}\n                                  autoCropArea={1}\n                                  minCropBoxHeight={100}\n                                  minCropBoxWidth={250}\n\n                                  ref={this.cropref }\n                            />\n                        }\n\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Opis lekcji (Opcjonalne)</a>\n                        <textarea placeholder={'Opis'} onChange={(e) => {this.state.Content.Desc = e.target.value}}></textarea>\n                    </div>\n                    <h2>Zawartość lekcji</h2>\n                    {this.RenderChapters()}\n                    { this.state.Content.Lesson.length < 10 && <button className={'CreateLesson_main_view_add_chapter'} onClick={this.addChapter.bind(this)}>Dodaj\n                        rozdział</button>}\n                    <h2>Dostępność lekcji</h2>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <label className=\"container_lesson\">\n                            <input type=\"checkbox\" onChange={(e) => {this.state.Content.EnableCode = (e.target.value ? 1 : 0); this.forceUpdate()}} />\n                            <span className=\"checkmark_lesson\"></span>\n                        </label>\n                        <a>Zabezpiecz dostęp do lekcje kodem</a>\n                        {\n                            this.state.Content.EnableCode === 1 &&\n                            <div className={'CreateLesson_main_view_PassCode'}>\n                                <a style={{display: 'block', margin: '0 10px 10px 10px', paddingLeft: '20px'}}>Aby wykonywać\n                                    daną lekcja trzeba najpierw podać ten kod.</a>\n                                <input type={'text'} placeholder={'Kod'} onChange={(e) => {this.state.Content.Code = e.target.value} }/>\n                                <button>\n                                    Generuj losowy kod\n                                </button>\n                            </div>\n                        }\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <label className=\"container_lesson\">\n                            <input type=\"checkbox\" onChange={(e) => {this.state.Content.CanExpire = (e.target.value ? 1 : 0); this.forceUpdate()}} />\n                            <span className=\"checkmark_lesson\"></span>\n                        </label>\n                        <a>Ogranicz czasowo widocznośc lekcji</a>\n                        {\n                            this.state.Content.CanExpire === 1 &&\n                            <div style={{width: 'fit-content'}} className={'CreateLesson_main_view_expire_date'}>\n                                <a>Data po której lekcja nie będzie już widoczna</a>\n                                <input\n                                    id={'CreateLesson_main_view_expire_date_input'}\n                                    onClick={() => {\n                                        {\n                                            this.setState({CalendarOpen: true})\n                                        }\n                                    }}\n                                    type={'button'}\n                                    value={'2022-04-1'}\n                                />\n                                {this.state.CalendarOpen && <Calendar_pop onSelect={(e) => {\n                                    this.ClickOnDate(e)\n                                }} close={() => {\n                                    this.setState({CalendarOpen: false})\n                                }}/>}\n                            </div>\n                        }\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Przypisz użytkowników badź grupy do lekcji.</a>\n                        <ShareLesson/>\n                    </div>\n                </div>\n\n                <div className={'CreateLesson_main_view_summary'}>\n                    <button onClick={this.sendForm.bind(this)}>Stwórz</button>\n                </div>\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}