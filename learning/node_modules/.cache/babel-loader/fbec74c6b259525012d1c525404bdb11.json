{"ast":null,"code":"var _jsxFileName = \"/Users/michalratajewski/edupage/files/learning/src/windows/CreateLesson.js\";\nimport React, { memo, useMemo } from \"react\";\nimport '../styles/CreateLesson.css';\nimport Cropper from \"react-cropper\";\nimport 'cropperjs/dist/cropper.css';\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport Calendar_pop from \"./calendar_pop\";\nimport ShareLesson from \"./ShareLesson\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreateLesson extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      EditFile: false,\n      CalendarOpen: false,\n      EnableCode: false,\n      CanExpire: false,\n      Content: {\n        Subject: '',\n        Image: '',\n        Desc: '',\n        Lesson: [{\n          Text: '',\n          Answer: 1,\n          Files: null\n        }],\n        EnableCode: 0,\n        Code: '',\n        CanExpire: 0,\n        Expire: new Date().toLocaleDateString(),\n        Users: [],\n        Groups: []\n      }\n    };\n    this.cropref = /*#__PURE__*/React.createRef();\n    this.modules = {\n      toolbar: {\n        container: [[{\n          'header': [1, 2, 3, 4, 5, 6, false]\n        }], ['bold', 'italic', 'underline'], [{\n          'list': 'ordered'\n        }, {\n          'list': 'bullet'\n        }], [{\n          'align': []\n        }], ['link', 'image'], ['clean'], [{\n          'color': []\n        }]] // handlers: {\n        //     image: imageHandler,\n        // },\n\n      }\n    };\n  }\n\n  onSelectedFIle(e) {\n    if (e.target.files.length > 0) {\n      this.setState({\n        EditFile: true\n      });\n      const reader = new FileReader();\n      reader.readAsDataURL(e.target.files[0]);\n\n      reader.onload = d => {\n        const img = new Image();\n        img.src = d.target.result;\n\n        img.onload = c => {\n          var _this$cropref;\n\n          (_this$cropref = this.cropref) === null || _this$cropref === void 0 ? void 0 : _this$cropref.current.cropper.replace(c.target.src);\n        };\n      };\n    } else {\n      this.setState({\n        EditFile: false\n      });\n    }\n  }\n\n  ClickOnDate(time) {\n    // console.log(time)\n    time.setMonth(time.getMonth() + 1);\n    document.querySelector('#CreateLesson_main_view_expire_date_input').value = time.getFullYear() + '-' + (time.getMonth().toString().length === 1 ? '0' + time.getMonth() : time.getMonth()) + '-' + (time.getDate().toString().length === 1 ? '0' + time.getDate() : time.getDate());\n  }\n\n  RenderChapters() {\n    const tab = [];\n\n    for (let i = 0; i < this.state.Content.Lesson.length; i++) {\n      tab.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_body_text',\n        children: [/*#__PURE__*/_jsxDEV(ReactQuill, {\n          modules: this.modules,\n          className: 'CreateLesson_main_view_editor'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text_answer',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              display: 'inline-block',\n              marginTop: '15px'\n            },\n            children: \"Odpowiedz w formie:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"tekstu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"pliku/\\xF3w\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"pliku/\\xF3w i tekstu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Za\\u0142acz pliki\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'file',\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'CreateLesson_main_view_body_text_answer_files',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: 'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt ',\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"16\",\n                className: \"bi bi-file-arrow-down\",\n                viewBox: \"0 0 16 16\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                children: \"Plika.pdf\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: 'Dash_main_view_body_chapter_files_item_close',\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"16\",\n                height: \"16\",\n                viewBox: \"0 0 16 16\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 22\n      }, this));\n    }\n\n    return tab;\n  }\n\n  addChapter() {\n    this.setState({\n      Content: {\n        Lesson: [...this.state.Content.Lesson, {\n          Text: '',\n          Answer: 1,\n          Files: null\n        }]\n      }\n    });\n  }\n\n  async sendForm() {\n    // if is ok when post data\n    try {\n      const resp = await fetch(\"http://192.168.0.7:8080/api/Lessons/CreateLesson.php\", {\n        method: \"POST\",\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(this.state.Content),\n        credentials: 'include'\n      }).then(data => data.json()).catch(null);\n\n      if (resp !== null) {\n        if (resp[\"CODE\"] === 'OK') {\n          // window.sessionStorage.setItem('Token', resp['Token'])\n          alert('Lesson created!');\n          return true;\n        } else {\n          return false;\n        }\n      } else return false;\n    } catch (e) {\n      return false;\n    }\n  } // Select background photo -- done\n  // Set a Subject and set description of lesson (maybe optional)\n  // Set many chapters of lesson with can check\n  // Set summary for chapter or full lesson\n  //\n  //\n  //\n  //\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'CreateLesson_main_view',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_header',\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Tworzenie lekcje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_body',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderBottom: '1px solid #282c34'\n          },\n          onClick: () => {\n            document.querySelector('#subject_input').focus();\n          },\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Temat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: 'subject_input',\n            type: 'text',\n            onChange: e => {\n              this.state.Content.Subject = e.target.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_seletct_background',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              display: 'inline-block',\n              margin: '10px 0 0 0'\n            },\n            children: \"Ustaw zdjecie lekcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: 'CreateLesson_main_view_select_image',\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'file',\n              style: {\n                display: 'none'\n              },\n              accept: 'image/png, image/gif, image/jpeg',\n              onChange: e => {\n                this.onSelectedFIle(e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), \"Wybierz\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), this.state.EditFile && /*#__PURE__*/_jsxDEV(Cropper, {\n            src: 'https://wallpaperaccess.com/full/1916098.jpg',\n            className: 'CreateLesson_main_view_body_seletct_background_edit',\n            aspectRatio: 16 / 9,\n            guides: false,\n            checkCrossOrigin: false,\n            responsive: true,\n            scaleX: 1,\n            viewMode: 3,\n            autoCropArea: 1,\n            minCropBoxHeight: 100,\n            minCropBoxWidth: 250,\n            ref: this.cropref\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Opis lekcji (Opcjonalne)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: 'Opis',\n            onChange: e => {\n              this.state.Content.Desc = e.target.value;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Zawarto\\u015B\\u0107 lekcji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }, this), this.RenderChapters(), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: 'CreateLesson_main_view_add_chapter',\n          onClick: this.addChapter.bind(this),\n          children: \"Dodaj rozdzia\\u0142\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Dost\\u0119pno\\u015B\\u0107 lekcji\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"container_lesson\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              onChange: e => {\n                this.setState({\n                  CanExpire: e.target.checked\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark_lesson\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Zabezpiecz dost\\u0119p do lekcje kodem\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), this.state.CanExpire && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: 'CreateLesson_main_view_PassCode',\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              style: {\n                display: 'block',\n                margin: '0 10px 10px 10px',\n                paddingLeft: '20px'\n              },\n              children: \"Aby wykonywa\\u0107 dan\\u0105 lekcja trzeba najpierw poda\\u0107 ten kod.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: 'text',\n              placeholder: 'Kod'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Generuj losowy kod\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"container_lesson\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              onChange: e => {\n                this.setState({\n                  EnableCode: e.target.checked\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"checkmark_lesson\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Ogranicz czasowo widoczno\\u015Bc lekcji\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), this.state.EnableCode && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 'fit-content'\n            },\n            className: 'CreateLesson_main_view_expire_date',\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              children: \"Data po kt\\xF3rej lekcja nie b\\u0119dzie ju\\u017C widoczna\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: 'CreateLesson_main_view_expire_date_input',\n              onClick: () => {\n                {\n                  this.setState({\n                    CalendarOpen: true\n                  });\n                }\n              },\n              type: 'button',\n              value: '2022-04-1'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this), this.state.CalendarOpen && /*#__PURE__*/_jsxDEV(Calendar_pop, {\n              onSelect: e => {\n                this.ClickOnDate(e);\n              },\n              close: () => {\n                this.setState({\n                  CalendarOpen: false\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'CreateLesson_main_view_body_text',\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"Przypisz u\\u017Cytkownik\\xF3w bad\\u017A grupy do lekcji.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ShareLesson, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'CreateLesson_main_view_summary',\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.sendForm.bind(this),\n          children: \"Stw\\xF3rz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/CreateLesson.js"],"names":["React","memo","useMemo","Cropper","ReactQuill","Calendar_pop","ShareLesson","CreateLesson","Component","constructor","props","state","EditFile","CalendarOpen","EnableCode","CanExpire","Content","Subject","Image","Desc","Lesson","Text","Answer","Files","Code","Expire","Date","toLocaleDateString","Users","Groups","cropref","createRef","modules","toolbar","container","onSelectedFIle","e","target","files","length","setState","reader","FileReader","readAsDataURL","onload","d","img","src","result","c","current","cropper","replace","ClickOnDate","time","setMonth","getMonth","document","querySelector","value","getFullYear","toString","getDate","RenderChapters","tab","i","push","display","marginTop","addChapter","sendForm","resp","fetch","method","headers","body","JSON","stringify","credentials","then","data","json","catch","alert","render","borderBottom","focus","margin","bind","checked","paddingLeft","width"],"mappings":"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","sourcesContent":["import React, {memo, useMemo} from \"react\";\nimport '../styles/CreateLesson.css';\n\nimport Cropper from \"react-cropper\";\nimport 'cropperjs/dist/cropper.css';\n\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\n\nimport Calendar_pop from \"./calendar_pop\";\nimport ShareLesson from \"./ShareLesson\";\n\nexport default class CreateLesson extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            EditFile: false,\n            CalendarOpen: false,\n            EnableCode: false,\n            CanExpire: false,\n            Content: {\n                Subject: '',\n                Image: '',\n                Desc: '',\n                Lesson: [\n                    {\n                        Text: '',\n                        Answer: 1,\n                        Files: null,\n                    }\n                ],\n                EnableCode: 0,\n                Code: '',\n                CanExpire: 0,\n                Expire: new Date().toLocaleDateString(),\n                Users: [],\n                Groups: []\n            }\n        }\n\n        this.cropref = React.createRef()\n\n        this.modules = {\n            toolbar: {\n                container: [\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n                    ['bold', 'italic', 'underline'],\n                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n                    [{ 'align': [] }],\n                    ['link', 'image'],\n                    ['clean'],\n                    [{ 'color': [] }]\n                ],\n\n\n                // handlers: {\n                //     image: imageHandler,\n                // },\n            }\n        }\n    }\n\n\n    onSelectedFIle(e) {\n        if (e.target.files.length > 0) {\n            this.setState({EditFile: true})\n            const reader = new FileReader()\n            reader.readAsDataURL(e.target.files[0])\n            reader.onload = (d) => {\n                const img = new Image()\n                img.src = d.target.result\n                img.onload = (c) => {\n                    this.cropref?.current.cropper.replace(c.target.src)\n                }\n            }\n        } else {\n            this.setState({EditFile: false})\n        }\n    }\n\n    ClickOnDate(time) {\n        // console.log(time)\n        time.setMonth(time.getMonth() + 1)\n        document.querySelector('#CreateLesson_main_view_expire_date_input')\n            .value = time.getFullYear() + '-' + (time.getMonth().toString().length === 1 ? '0' + time.getMonth() : time.getMonth()) + '-' + (time.getDate().toString().length === 1 ? '0' + time.getDate() : time.getDate())\n    }\n\n    RenderChapters() {\n        const tab = []\n        for(let i = 0; i < this.state.Content.Lesson.length; i++) {\n            tab.push(<div className={'CreateLesson_main_view_body_text'}>\n                <ReactQuill modules={this.modules} className={'CreateLesson_main_view_editor'}/>\n                <div className={'CreateLesson_main_view_body_text_answer'}>\n                    <a style={{display: 'inline-block', marginTop: '15px'}}>Odpowiedz w formie:</a>\n                    <select>\n                        <option>tekstu</option>\n                        <option>pliku/ów</option>\n                        <option>pliku/ów i tekstu</option>\n                    </select>\n                    <label>\n                        Załacz pliki\n                        <input type={'file'} style={{display: 'none'}}/>\n                    </label>\n                    <div className={'CreateLesson_main_view_body_text_answer_files'}>\n                        <div className={'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt '}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                 className=\"bi bi-file-arrow-down\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"/>\n                                <path\n                                    d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"/>\n                            </svg>\n                            <a>Plika.pdf</a>\n                            <svg className={'Dash_main_view_body_chapter_files_item_close'} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                 viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                            </svg>\n                        </div>\n                    </div>\n                </div>\n            </div>)\n        }\n        return tab\n    }\n\n    addChapter() {\n        this.setState(\n            {\n                Content: {\n                    Lesson : [\n                        ...this.state.Content.Lesson,\n                        {\n                            Text: '',\n                            Answer: 1,\n                            Files: null,\n                        }\n                    ]\n                }\n            }\n        )\n    }\n\n    async sendForm() {\n        // if is ok when post data\n        try {\n            const resp = await fetch(\"http://192.168.0.7:8080/api/Lessons/CreateLesson.php\", {\n                method: \"POST\",\n                headers: {\n                    'Access-Control-Allow-Origin':'*',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.state.Content),\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n\n            if (resp !== null) {\n                if (resp[\"CODE\"] === 'OK') {\n                    // window.sessionStorage.setItem('Token', resp['Token'])\n                    alert('Lesson created!')\n                    return true\n                } else {\n                    return false\n                }\n            } else return false;\n\n        } catch (e) {\n            return false\n        }\n    }\n\n    // Select background photo -- done\n    // Set a Subject and set description of lesson (maybe optional)\n    // Set many chapters of lesson with can check\n    // Set summary for chapter or full lesson\n    //\n    //\n    //\n    //\n\n    render() {\n        return(\n            <div className={'CreateLesson_main_view'}>\n                <div className={'CreateLesson_main_view_header'}>\n                    <h1>Tworzenie lekcje</h1>\n                </div>\n                <div className={'CreateLesson_main_view_body'}>\n                    <div style={{borderBottom: '1px solid #282c34'}} onClick={() => {document.querySelector('#subject_input').focus()}} className={'CreateLesson_main_view_body_text'}>\n                        <h2>Temat</h2>\n                        <input id={'subject_input'} type={'text'}  onChange={(e) => { this.state.Content.Subject = e.target.value }}/>\n                    </div>\n                    <div className={'CreateLesson_main_view_body_seletct_background'}>\n                        <a style={{display: 'inline-block', margin: '10px 0 0 0'}}>Ustaw zdjecie lekcji</a>\n                        <label className={'CreateLesson_main_view_select_image'}>\n                            <input type={'file'} style={{display: 'none'}} accept={'image/png, image/gif, image/jpeg'}\n                                   onChange={(e) => {\n                                       this.onSelectedFIle(e)\n                                   }}/>\n                            Wybierz\n                        </label>\n\n                        {this.state.EditFile &&\n                            <Cropper src={'https://wallpaperaccess.com/full/1916098.jpg'}\n                                  className={'CreateLesson_main_view_body_seletct_background_edit'}\n                                  aspectRatio={16 / 9}\n                                  guides={false}\n                                  checkCrossOrigin={false}\n                                  responsive={true}\n                                  scaleX={1}\n                                  viewMode={3}\n                                  autoCropArea={1}\n                                  minCropBoxHeight={100}\n                                  minCropBoxWidth={250}\n\n                                  ref={this.cropref }\n                            />\n                        }\n\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Opis lekcji (Opcjonalne)</a>\n                        <textarea placeholder={'Opis'} onChange={(e) => {this.state.Content.Desc = e.target.value}}></textarea>\n                    </div>\n                    <h2>Zawartość lekcji</h2>\n                    {this.RenderChapters()}\n                    <button className={'CreateLesson_main_view_add_chapter'} onClick={this.addChapter.bind(this)}>Dodaj rozdział</button>\n                    <h2>Dostępność lekcji</h2>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <label className=\"container_lesson\">\n                            <input type=\"checkbox\" onChange={(e) => {this.setState({CanExpire: e.target.checked} )  }} />\n                            <span className=\"checkmark_lesson\"></span>\n                        </label>\n                        <a>Zabezpiecz dostęp do lekcje kodem</a>\n                        {\n                            this.state.CanExpire &&\n                            <div className={'CreateLesson_main_view_PassCode'}>\n                                <a style={{display: 'block', margin: '0 10px 10px 10px', paddingLeft: '20px'}}>Aby wykonywać\n                                    daną lekcja trzeba najpierw podać ten kod.</a>\n                                <input type={'text'} placeholder={'Kod'}/>\n                                <button>\n                                    Generuj losowy kod\n                                </button>\n                            </div>\n                        }\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <label className=\"container_lesson\">\n                            <input type=\"checkbox\" onChange={(e) => {this.setState({EnableCode: e.target.checked})}} />\n                            <span className=\"checkmark_lesson\"></span>\n                        </label>\n                        <a>Ogranicz czasowo widocznośc lekcji</a>\n                        {\n                            this.state.EnableCode &&\n                            <div style={{width: 'fit-content'}} className={'CreateLesson_main_view_expire_date'}>\n                                <a>Data po której lekcja nie będzie już widoczna</a>\n                                <input\n                                    id={'CreateLesson_main_view_expire_date_input'}\n                                    onClick={() => {\n                                        {\n                                            this.setState({CalendarOpen: true})\n                                        }\n                                    }}\n                                    type={'button'}\n                                    value={'2022-04-1'}\n                                />\n                                {this.state.CalendarOpen && <Calendar_pop onSelect={(e) => {\n                                    this.ClickOnDate(e)\n                                }} close={() => {\n                                    this.setState({CalendarOpen: false})\n                                }}/>}\n                            </div>\n                        }\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Przypisz użytkowników badź grupy do lekcji.</a>\n                        <ShareLesson/>\n                    </div>\n                </div>\n\n                <div className={'CreateLesson_main_view_summary'}>\n                    <button onClick={this.sendForm.bind(this)}>Stwórz</button>\n                </div>\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}