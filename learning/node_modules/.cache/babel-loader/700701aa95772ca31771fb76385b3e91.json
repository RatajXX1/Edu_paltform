{"ast":null,"code":"import _asyncToGenerator from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'../../styles/dashboard/dash_view.css';import'../../styles/login_themes.css';import SimpleBar from\"simplebar-react\";import'simplebar/dist/simplebar.min.css';import Lesson_widget from\"../lesson_widget\";import serverPath from\"../../utilis/server-path\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_React$Component){_inherits(Dashboard,_React$Component);var _super=_createSuper(Dashboard);function Dashboard(props){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this,props);_this.theme_id=Math.floor(Math.random()*(31-1))+1;_this.state={Lessons:[]};return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.GetLatest().then(function(e){_this2.forceUpdate();});}},{key:\"GetLatest\",value:function(){var _GetLatest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(serverPath()+'api/Lessons/latest.php',{method:'GET',headers:{'Access-Control-Allow-Origin':'*'},credentials:'include'}).then(function(data){return data.json();}).catch(null);case 3:resp=_context.sent;if(!(resp!==null)){_context.next=12;break;}if(!(resp['CODE']==='OK')){_context.next=9;break;}this.state.Lessons=resp['Lessons'];_context.next=10;break;case 9:return _context.abrupt(\"return\",[]);case 10:_context.next=13;break;case 12:return _context.abrupt(\"return\",[]);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",[]);case 18:case\"end\":return _context.stop();}}},_callee,this,[[0,15]]);}));function GetLatest(){return _GetLatest.apply(this,arguments);}return GetLatest;}()},{key:\"RenderLatest\",value:function RenderLatest(){var tab=[];for(var i=0;i<this.state.Lessons.length;i++){tab.push(/*#__PURE__*/_jsx(Lesson_widget,{Image:this.state.Lessons[i]['Image'],ID:this.state.Lessons[i]['ID'],Name:this.state.Lessons[i]['Subject']}));}return tab;}},{key:\"render\",value:function render(){return/*#__PURE__*/ (// <SimpleBar forceVisible=\"y\" autoHide={false} style={{width: '800px'}}>\n_jsxs(\"div\",{className:\"Dash_main_view\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Dash_main_view_head theme_\"+this.theme_id.toString(),children:/*#__PURE__*/_jsx(\"h1\",{children:\"Platforma Edukacyjna\"})}),/*#__PURE__*/_jsx(\"div\",{className:'Dash_main_view_hello_view',children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Witaj \",/*#__PURE__*/_jsx(\"b\",{children:this.props.User_data.Name+' '+this.props.User_data.Surrname}),\" na \",/*#__PURE__*/_jsx(\"b\",{children:\"Platformie edukacyjnej\"}),\"!\"]})}),this.state.Lessons.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"Dash_main_view_last_lesson\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Najnowsze lekcje\"}),/*#__PURE__*/_jsx(SimpleBar,{forceVisible:\"x\",autoHide:true,style:{width:'99%',left:'50%',transform:'translate(-50%, 0)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"Dash_main_view_last_lesson_list\",children:this.RenderLatest()})})]})]})// </SimpleBar>\n);}}]);return Dashboard;}(React.Component);export default Dashboard;","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/dashboard/dashboard.js"],"names":["React","SimpleBar","Lesson_widget","serverPath","Dashboard","props","theme_id","Math","floor","random","state","Lessons","GetLatest","then","e","forceUpdate","fetch","method","headers","credentials","data","json","catch","resp","tab","i","length","push","toString","User_data","Name","Surrname","width","left","transform","RenderLatest","Component"],"mappings":"2wBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,sCAAP,CACA,MAAO,+BAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,MAAO,kCAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,2FAEMC,CAAAA,S,kHAEF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EACA,MAAKC,QAAL,CAAgBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiB,GAAK,CAAtB,CAAX,EAAuC,CAAvD,CACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,EADA,CAAb,CAHe,aAMlB,C,uDAGD,4BAAoB,iBAChB,KAAKC,SAAL,GAAiBC,IAAjB,CAAsB,SAAAC,CAAC,CAAI,CACvB,MAAI,CAACC,WAAL,GACH,CAFD,EAGH,C,2GAED,kLAE2BC,CAAAA,KAAK,CAACb,UAAU,GAAK,wBAAhB,CAA0C,CAC9Dc,MAAM,CAAC,KADuD,CAE9DC,OAAO,CAAE,CACL,8BAA+B,GAD1B,CAFqD,CAK9DC,WAAW,CAAE,SALiD,CAA1C,CAAL,CAMhBN,IANgB,CAMX,SAAAO,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EANO,EAMUC,KANV,CAMgB,IANhB,CAF3B,QAEcC,IAFd,oBASYA,IAAI,GAAK,IATrB,gCAUgBA,IAAI,CAAC,MAAD,CAAJ,GAAiB,IAVjC,0BAUuC,KAAKb,KAAL,CAAWC,OAAX,CAAqBY,IAAI,CAAC,SAAD,CAAzB,CAVvC,8DAWwB,EAXxB,yEAYsB,EAZtB,2HAcc,EAdd,uE,iHAkBA,uBAAe,CACX,GAAMC,CAAAA,GAAG,CAAG,EAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKf,KAAL,CAAWC,OAAX,CAAmBe,MAAvC,CAA+CD,CAAC,EAAhD,CAAoD,CAChDD,GAAG,CAACG,IAAJ,cAAS,KAAC,aAAD,EAAe,KAAK,CAAE,KAAKjB,KAAL,CAAWC,OAAX,CAAmBc,CAAnB,EAAsB,OAAtB,CAAtB,CAAsD,EAAE,CAAE,KAAKf,KAAL,CAAWC,OAAX,CAAmBc,CAAnB,EAAsB,IAAtB,CAA1D,CAAuF,IAAI,CAAE,KAAKf,KAAL,CAAWC,OAAX,CAAmBc,CAAnB,EAAsB,SAAtB,CAA7F,EAAT,EACH,CACD,MAAOD,CAAAA,GAAP,CACH,C,sBAED,iBAAS,CACL,oBACI;AACI,aAAK,SAAS,CAAE,gBAAhB,wBACI,YAAK,SAAS,CAAE,6BAA+B,KAAKlB,QAAL,CAAcsB,QAAd,EAA/C,uBACI,4CADJ,EADJ,cAII,YAAK,SAAS,CAAE,2BAAhB,uBACI,4CAAW,mBAAI,KAAKvB,KAAL,CAAWwB,SAAX,CAAqBC,IAArB,CAA4B,GAA5B,CAAkC,KAAKzB,KAAL,CAAWwB,SAAX,CAAqBE,QAA3D,EAAX,qBAAuF,6CAAvF,OADJ,EAJJ,CAQQ,KAAKrB,KAAL,CAAWC,OAAX,CAAmBe,MAAnB,CAA4B,CAA5B,eACA,aAAK,SAAS,CAAE,4BAAhB,wBACI,wCADJ,cAEI,KAAC,SAAD,EAAW,YAAY,CAAC,GAAxB,CAA4B,QAAQ,CAAE,IAAtC,CACW,KAAK,CAAE,CAACM,KAAK,CAAE,KAAR,CAAeC,IAAI,CAAE,KAArB,CAA4BC,SAAS,CAAE,oBAAvC,CADlB,uBAEI,YAAK,SAAS,CAAE,iCAAhB,UAGQ,KAAKC,YAAL,EAHR,EAFJ,EAFJ,GATR,GAuBJ;AAzBJ,EA4BH,C,uBAxEmBnC,KAAK,CAACoC,S,EA2E9B,cAAehC,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport '../../styles/dashboard/dash_view.css'\nimport '../../styles/login_themes.css'\nimport SimpleBar from \"simplebar-react\";\nimport 'simplebar/dist/simplebar.min.css';\nimport Lesson_widget from \"../lesson_widget\";\nimport serverPath from \"../../utilis/server-path\";\n\nclass Dashboard extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.theme_id = Math.floor(Math.random() * (31 - 1)) + 1;\n        this.state = {\n            Lessons: []\n        }\n    }\n\n\n    componentDidMount() {\n        this.GetLatest().then(e => {\n            this.forceUpdate()\n        })\n    }\n\n    async GetLatest() {\n        try {\n            const resp = await fetch(serverPath() + 'api/Lessons/latest.php', {\n                method:'GET',\n                headers: {\n                    'Access-Control-Allow-Origin': '*'\n                },\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n            if (resp !== null) {\n                if (resp['CODE'] === 'OK') this.state.Lessons = resp['Lessons']\n                else return []\n            } else return []\n        } catch (e) {\n           return []\n        }\n    }\n\n    RenderLatest() {\n        const tab = []\n        for (let i = 0; i < this.state.Lessons.length; i++) {\n            tab.push(<Lesson_widget Image={this.state.Lessons[i]['Image']} ID={this.state.Lessons[i]['ID']} Name={this.state.Lessons[i]['Subject']}/>)\n        }\n        return tab\n    }\n\n    render() {\n        return (\n            // <SimpleBar forceVisible=\"y\" autoHide={false} style={{width: '800px'}}>\n                <div className={\"Dash_main_view\"}>\n                    <div className={\"Dash_main_view_head theme_\" + this.theme_id.toString() }>\n                        <h1>Platforma Edukacyjna</h1>\n                    </div>\n                    <div className={'Dash_main_view_hello_view'}>\n                        <h1 >Witaj <b>{this.props.User_data.Name + ' ' + this.props.User_data.Surrname}</b> na <b>Platformie edukacyjnej</b>!</h1>\n                    </div>\n                    {\n                        this.state.Lessons.length > 0 &&\n                        <div className={\"Dash_main_view_last_lesson\"}>\n                            <h2>Najnowsze lekcje</h2>\n                            <SimpleBar forceVisible=\"x\" autoHide={true}\n                                       style={{width: '99%', left: '50%', transform: 'translate(-50%, 0)'}}>\n                                <div className={\"Dash_main_view_last_lesson_list\"}>\n                                    {/*<Lesson_widget/>*/}\n                                    {\n                                        this.RenderLatest()\n                                    }\n                                </div>\n                            </SimpleBar>\n                        </div>\n                    }\n                </div>\n            // </SimpleBar>\n\n        )\n    }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}