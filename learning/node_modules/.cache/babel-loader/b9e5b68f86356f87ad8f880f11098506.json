{"ast":null,"code":"import _classCallCheck from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import'../styles/welcome.css';import'../styles/login_themes.css';import validation from\"../utilis/validation\";import authorize from\"../utilis/authorize\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Welcome_page=/*#__PURE__*/function(_React$Component){_inherits(Welcome_page,_React$Component);var _super=_createSuper(Welcome_page);function Welcome_page(props){var _this;_classCallCheck(this,Welcome_page);_this=_super.call(this,props);_this.theme_id=Math.floor(Math.random()*(31-1))+1;_this.state={authorize:false,username:'',password:'',AutoLogin:false,state_view:1,alert_info:{mode:0,text_alert:\"Adres e-mail bądż hasło są niepoprawne lub użytkownik nie istnieje!\"},RegOutput:{Name:'',Surrname:'',login:'',Password:'',RPassword:''}};document.title='Zaloguj sie';return _this;}_createClass(Welcome_page,[{key:\"login_alert\",value:function login_alert(){return/*#__PURE__*/_jsx(\"div\",{className:\"login_alert_box \"+(this.state.alert_info.mode==1?'error_alert':'succes_alert'),children:/*#__PURE__*/_jsx(\"p\",{children:this.state.alert_info.text_alert})});}// componentDidMount() {\n//     authorize.isAuthorized(this.props.Logged)\n// }\n},{key:\"set_alert\",value:function set_alert(text){var mode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.setState({alert_info:{mode:mode,text_alert:text}});}},{key:\"submit_login\",value:function submit_login(){var _this2=this;// this.setState({username : 'ratajx1@gmail.com', password: 'root'})\nif(this.state.username.replaceAll(' ','').length!==0&&this.state.password.replaceAll(' ','').length!==0){if(validation.validateEmail(this.state.username)){authorize.authorize(this.state.username,this.state.password,this.state.AutoLogin).then(function(e){if(e){// console.log(this.props.history)\nwindow.location.href='/main/dashboard';// alert(\"succes\")\n}else{_this2.set_alert('Adres e-mail bądź hasło są niepoprawne lub podane konto nie istnieje!');}});}else this.set_alert('Zły format adresu e-mail!');}else this.set_alert('Wszystkie pola muszą zostać wypełnione!');}},{key:\"submit_regiser\",value:function submit_regiser(){var _this3=this;if(this.state.RegOutput.Name.replaceAll(' ','').length!==0&&this.state.RegOutput.Surrname.replaceAll(' ','').length!==0&&this.state.RegOutput.login.replaceAll(' ','').length!==0&&this.state.RegOutput.Password.replaceAll(' ','').length!==0&&this.state.RegOutput.RPassword.replaceAll(' ','').length!==0){if(this.state.RegOutput.Password.replaceAll(' ','')!==this.state.RegOutput.RPassword.replaceAll(' ','')){return this.set_alert('Hasła nie są takie same');}if(this.state.RegOutput.Password.replaceAll(' ','').length<8&&this.state.RegOutput.RPassword.replaceAll(' ','').length<8){return this.set_alert('Hasło musi mieć minimum 8 znaków!');}if(validation.validateEmail(this.state.RegOutput.login)){authorize.register(this.state.RegOutput.login,this.state.RegOutput.Password,this.state.RegOutput.Name,this.state.RegOutput.Surrname).then(function(e){if(e){// console.log(this.props.history)\nwindow.location.href='/main/dashboard';// alert(\"succes\")\n}else{_this3.set_alert('Taki adres e-mail już został użyty!');}});}else this.set_alert('Zły format adresu e-mail!');}else this.set_alert('Wszystkie pola muszą zostać wypełnione!');}},{key:\"login_inputs\",value:function login_inputs(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"login_back\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Logowanie\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_back_body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input_div\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Adres e-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Adres e-mail\",onChange:function onChange(e){return _this4.setState({username:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_div\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Haslo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Has\\u0142o\",onChange:function onChange(e){return _this4.setState({password:e.target.value});}})]}),/*#__PURE__*/_jsxs(\"label\",{style:{width:'80%'},className:\"container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return _this4.state.AutoLogin=e.target.checked;}}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsx(\"a\",{children:\"Nie wylogowywuj\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login_button\",onClick:this.submit_login.bind(this),children:\"Zaloguj si\\u0119\"})]}),/*#__PURE__*/_jsxs(\"a\",{className:\"login_create_account\",children:[\"Nie posiadasz konta? \",/*#__PURE__*/_jsx(\"span\",{onClick:this.change_state.bind(this,2),children:\"Stw\\xF3rz je\"}),\" \"]})]});}},{key:\"change_state\",value:function change_state(e){this.setState({state_view:e});switch(e){case 1:document.title='Zaloguj sie';break;case 2:document.title='Zarejestruj się';break;case 3:document.title='Resetowanie hasła';break;}}},{key:\"register_inputs\",value:function register_inputs(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"login_back\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rejestracja\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_back_body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input_div two_in\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Imie i Nazwisko\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Imi\\u0119\",onChange:function onChange(e){return _this5.state.RegOutput.Name=e.target.value;}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nazwisko\",onChange:function onChange(e){return _this5.state.RegOutput.Surrname=e.target.value;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_div\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Adres e-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Adres e-mail\",onChange:function onChange(e){return _this5.state.RegOutput.login=e.target.value;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_div\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Haslo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Has\\u0142o\",onChange:function onChange(e){return _this5.state.RegOutput.Password=e.target.value;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_div\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Powt\\xF3rz haslo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Powt\\xF3rz has\\u0142o\",onChange:function onChange(e){return _this5.state.RegOutput.RPassword=e.target.value;}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.submit_regiser.bind(this),className:\"login_button\",children:\"Zarejestruj si\\u0119\"})]}),/*#__PURE__*/_jsxs(\"a\",{className:\"login_create_account\",children:[\"Posiadasz ju\\u017C konto? \",/*#__PURE__*/_jsx(\"span\",{onClick:this.change_state.bind(this,1),children:\"Zaloguj sie\"}),\" \"]})]});}},{key:\"forgot_pass_intputs\",value:function forgot_pass_intputs(){return/*#__PURE__*/_jsxs(\"div\",{className:\"login_back forgot_pass_back\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Resetowanie has\\u0142a\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"login_back_body\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"return_back_bt_forgot\",onClick:this.change_state.bind(this,1),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"currentColor\",className:\"bi bi-arrow-left-short\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z\"})}),/*#__PURE__*/_jsx(\"a\",{children:\"Powr\\xF3t do logowania\"})]}),/*#__PURE__*/_jsx(\"a\",{className:\"forgot_pass_body\",children:\"Je\\u017Celi istnieje konto posiadaj\\u0105ce dany adres e-mail to na podany adres przyjd\\u0105 dalsze instrukcje resetowania has\\u0142a.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_div forgot_pass_inputs\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"Adres e-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Adres e-mail\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"login_button\",onClick:this.submit_regiser.bind(this),children:\"Zresetuj has\\u0142o\"})]})]});}},{key:\"switch_state\",value:function switch_state(){if(this.state.state_view==1)return this.login_inputs();else if(this.state.state_view==2)return this.register_inputs();else return this.forgot_pass_intputs();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:'welcome_background theme_'+this.theme_id.toString(),children:/*#__PURE__*/_jsx(\"div\",{className:\"welcome_back\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome_text\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome_header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Platforma Edukacyjna\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"welcome_body\",children:this.switch_state()}),this.state.alert_info.mode>0?this.login_alert():'']})})});}}]);return Welcome_page;}(React.Component);export default Welcome_page;","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/welcom_page.js"],"names":["React","validation","authorize","Welcome_page","props","theme_id","Math","floor","random","state","username","password","AutoLogin","state_view","alert_info","mode","text_alert","RegOutput","Name","Surrname","login","Password","RPassword","document","title","text","setState","replaceAll","length","validateEmail","then","e","window","location","href","set_alert","register","target","value","width","checked","submit_login","bind","change_state","submit_regiser","login_inputs","register_inputs","forgot_pass_intputs","toString","switch_state","login_alert","Component"],"mappings":"ggBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,uBAAP,CACA,MAAO,4BAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,C,2FAGMC,CAAAA,Y,wHAEF,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EACA,MAAKC,QAAL,CAAgBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiB,GAAK,CAAtB,CAAX,EAAuC,CAAvD,CACA,MAAKC,KAAL,CAAa,CACTP,SAAS,CAAE,KADF,CAETQ,QAAQ,CAAE,EAFD,CAGTC,QAAQ,CAAE,EAHD,CAITC,SAAS,CAAE,KAJF,CAKTC,UAAU,CAAG,CALJ,CAMTC,UAAU,CAAG,CAACC,IAAI,CAAE,CAAP,CAAUC,UAAU,CAAE,qEAAtB,CANJ,CAOTC,SAAS,CAAE,CACPC,IAAI,CAAE,EADC,CAEPC,QAAQ,CAAE,EAFH,CAGPC,KAAK,CAAE,EAHA,CAIPC,QAAQ,CAAE,EAJH,CAKPC,SAAS,CAAE,EALJ,CAPF,CAAb,CAgBAC,QAAQ,CAACC,KAAT,CAAiB,aAAjB,CAnBe,aAoBlB,C,oDAED,sBAAc,CACV,mBACI,YAAK,SAAS,CAAE,oBAAsB,KAAKf,KAAL,CAAWK,UAAX,CAAsBC,IAAtB,EAA8B,CAA9B,CAAkC,aAAlC,CAAkD,cAAxE,CAAhB,uBACI,mBACK,KAAKN,KAAL,CAAWK,UAAX,CAAsBE,UAD3B,EADJ,EADJ,CAOH,CAED;AACA;AACA;yBAEA,mBAAUS,IAAV,CAAwB,IAARV,CAAAA,IAAQ,2DAAH,CAAG,CACpB,KAAKW,QAAL,CAAc,CAACZ,UAAU,CAAG,CAACC,IAAI,CAAEA,IAAP,CAAaC,UAAU,CAAES,IAAzB,CAAd,CAAd,EACH,C,4BAED,uBAAe,iBACX;AACA,GAAI,KAAKhB,KAAL,CAAWC,QAAX,CAAoBiB,UAApB,CAA+B,GAA/B,CAAoC,EAApC,EAAwCC,MAAxC,GAAmD,CAAnD,EACA,KAAKnB,KAAL,CAAWE,QAAX,CAAoBgB,UAApB,CAA+B,GAA/B,CAAoC,EAApC,EAAwCC,MAAxC,GAAmD,CADvD,CAC0D,CACtD,GAAI3B,UAAU,CAAC4B,aAAX,CAAyB,KAAKpB,KAAL,CAAWC,QAApC,CAAJ,CAAmD,CAC/CR,SAAS,CAACA,SAAV,CAAoB,KAAKO,KAAL,CAAWC,QAA/B,CAAyC,KAAKD,KAAL,CAAWE,QAApD,CAA8D,KAAKF,KAAL,CAAWG,SAAzE,EAAoFkB,IAApF,CACI,SAAAC,CAAC,CAAI,CACD,GAAIA,CAAJ,CAAO,CACH;AACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,iBAAvB,CACA;AACH,CAJD,IAIO,CACH,MAAI,CAACC,SAAL,CAAe,uEAAf,EACH,CACJ,CATL,EAWH,CAZD,IAYO,MAAKA,SAAL,CAAe,2BAAf,EACV,CAfD,IAeO,MAAKA,SAAL,CAAe,yCAAf,EACV,C,8BAED,yBAAiB,iBACb,GAAI,KAAK1B,KAAL,CAAWQ,SAAX,CAAqBC,IAArB,CAA0BS,UAA1B,CAAqC,GAArC,CAA0C,EAA1C,EAA8CC,MAA9C,GAAyD,CAAzD,EACA,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBE,QAArB,CAA8BQ,UAA9B,CAAyC,GAAzC,CAA8C,EAA9C,EAAkDC,MAAlD,GAA6D,CAD7D,EAEA,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBG,KAArB,CAA2BO,UAA3B,CAAsC,GAAtC,CAA2C,EAA3C,EAA+CC,MAA/C,GAA0D,CAF1D,EAGA,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBI,QAArB,CAA8BM,UAA9B,CAAyC,GAAzC,CAA8C,EAA9C,EAAkDC,MAAlD,GAA6D,CAH7D,EAIA,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBK,SAArB,CAA+BK,UAA/B,CAA0C,GAA1C,CAA+C,EAA/C,EAAmDC,MAAnD,GAA8D,CAJlE,CAKE,CACE,GACI,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBI,QAArB,CAA8BM,UAA9B,CAAyC,GAAzC,CAA8C,EAA9C,IAEA,KAAKlB,KAAL,CAAWQ,SAAX,CAAqBK,SAArB,CAA+BK,UAA/B,CAA0C,GAA1C,CAA+C,EAA/C,CAHJ,CAIE,CACE,MAAO,MAAKQ,SAAL,CAAe,yBAAf,CAAP,CACH,CACD,GACI,KAAK1B,KAAL,CAAWQ,SAAX,CAAqBI,QAArB,CAA8BM,UAA9B,CAAyC,GAAzC,CAA8C,EAA9C,EAAkDC,MAAlD,CAA2D,CAA3D,EAEA,KAAKnB,KAAL,CAAWQ,SAAX,CAAqBK,SAArB,CAA+BK,UAA/B,CAA0C,GAA1C,CAA+C,EAA/C,EAAmDC,MAAnD,CAA4D,CAHhE,CAIE,CACE,MAAO,MAAKO,SAAL,CAAe,mCAAf,CAAP,CACH,CAED,GAAIlC,UAAU,CAAC4B,aAAX,CAAyB,KAAKpB,KAAL,CAAWQ,SAAX,CAAqBG,KAA9C,CAAJ,CAA0D,CACtDlB,SAAS,CAACkC,QAAV,CAAmB,KAAK3B,KAAL,CAAWQ,SAAX,CAAqBG,KAAxC,CAA+C,KAAKX,KAAL,CAAWQ,SAAX,CAAqBI,QAApE,CAA8E,KAAKZ,KAAL,CAAWQ,SAAX,CAAqBC,IAAnG,CAAyG,KAAKT,KAAL,CAAWQ,SAAX,CAAqBE,QAA9H,EAAwIW,IAAxI,CACI,SAAAC,CAAC,CAAI,CACD,GAAIA,CAAJ,CAAO,CACH;AACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,iBAAvB,CACA;AACH,CAJD,IAIO,CACH,MAAI,CAACC,SAAL,CAAe,qCAAf,EACH,CACJ,CATL,EAWH,CAZD,IAYO,MAAKA,SAAL,CAAe,2BAAf,EACV,CAlCD,IAkCO,MAAKA,SAAL,CAAe,yCAAf,EACV,C,4BAED,uBAAe,iBACX,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,iCADJ,cAEI,aAAK,SAAS,CAAC,iBAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,cAA/B,CAA8C,QAAQ,CAAE,kBAAAJ,CAAC,QAAI,CAAA,MAAI,CAACL,QAAL,CAAc,CAAChB,QAAQ,CAAEqB,CAAC,CAACM,MAAF,CAASC,KAApB,CAAd,CAAJ,EAAzD,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,WAAf,wBACI,4BADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,YAAnC,CAA2C,QAAQ,CAAE,kBAAAP,CAAC,QAAI,CAAA,MAAI,CAACL,QAAL,CAAc,CAACf,QAAQ,CAAEoB,CAAC,CAACM,MAAF,CAASC,KAApB,CAAd,CAAJ,EAAtD,EAFJ,GALJ,cASI,eAAO,KAAK,CAAE,CAACC,KAAK,CAAE,KAAR,CAAd,CAA8B,SAAS,CAAC,WAAxC,wBACI,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAAAR,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWG,SAAX,CAAuBmB,CAAC,CAACM,MAAF,CAASG,OAApC,EAAlC,EADJ,cAEI,aAAM,SAAS,CAAC,WAAhB,EAFJ,cAGI,sCAHJ,GATJ,cAiBI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAA1C,8BAjBJ,GAFJ,cAqBI,WAAG,SAAS,CAAC,sBAAb,gDAAyD,aAAM,OAAO,CAAE,KAAKC,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAA6B,CAA7B,CAAf,0BAAzD,OArBJ,GADJ,CA0BH,C,4BAED,sBAAaX,CAAb,CAAgB,CACZ,KAAKL,QAAL,CAAc,CAACb,UAAU,CAAEkB,CAAb,CAAd,EACA,OAAQA,CAAR,EACI,IAAK,EAAL,CACIR,QAAQ,CAACC,KAAT,CAAiB,aAAjB,CACA,MACJ,IAAK,EAAL,CACID,QAAQ,CAACC,KAAT,CAAiB,iBAAjB,CACA,MACJ,IAAK,EAAL,CACID,QAAQ,CAACC,KAAT,CAAiB,mBAAjB,CACA,MATR,CAWH,C,+BAED,0BAAkB,iBACd,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,mCADJ,cAEI,aAAK,SAAS,CAAC,iBAAf,wBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,sCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,WAA/B,CAAsC,QAAQ,CAAE,kBAAAO,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWQ,SAAX,CAAqBC,IAArB,CAA4Ba,CAAC,CAACM,MAAF,CAASC,KAAzC,EAAjD,EAFJ,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,UAA/B,CAA0C,QAAQ,CAAE,kBAAAP,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWQ,SAAX,CAAqBE,QAArB,CAAgCY,CAAC,CAACM,MAAF,CAASC,KAA7C,EAArD,EAHJ,GADJ,cAMI,aAAK,SAAS,CAAC,WAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,OAAZ,CAAoB,WAAW,CAAC,cAAhC,CAA+C,QAAQ,CAAE,kBAAAP,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWQ,SAAX,CAAqBG,KAArB,CAA6BW,CAAC,CAACM,MAAF,CAASC,KAA1C,EAA1D,EAFJ,GANJ,cAUI,aAAK,SAAS,CAAC,WAAf,wBACI,4BADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,YAAnC,CAA2C,QAAQ,CAAE,kBAAAP,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWQ,SAAX,CAAqBI,QAArB,CAAgCU,CAAC,CAACM,MAAF,CAASC,KAA7C,EAAtD,EAFJ,GAVJ,cAcI,aAAK,SAAS,CAAC,WAAf,wBACI,uCADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,uBAAnC,CAAmD,QAAQ,CAAE,kBAAAP,CAAC,QAAI,CAAA,MAAI,CAACtB,KAAL,CAAWQ,SAAX,CAAqBK,SAArB,CAAiCS,CAAC,CAACM,MAAF,CAASC,KAA9C,EAA9D,EAFJ,GAdJ,cAmBI,eAAQ,OAAO,CAAE,KAAKM,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAjB,CAAiD,SAAS,CAAC,cAA3D,kCAnBJ,GAFJ,cAuBI,WAAG,SAAS,CAAC,sBAAb,qDAAyD,aAAM,OAAO,CAAE,KAAKC,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAA6B,CAA7B,CAAf,yBAAzD,OAvBJ,GADJ,CA2BH,C,mCAED,8BAAsB,CAClB,mBACI,aAAK,SAAS,CAAC,6BAAf,wBACI,8CADJ,cAEI,aAAK,SAAS,CAAC,iBAAf,wBACI,gBAAQ,SAAS,CAAC,uBAAlB,CAA0C,OAAO,CAAE,KAAKC,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAA6B,CAA7B,CAAnD,wBACI,YAAK,KAAK,CAAC,4BAAX,CAAwC,IAAI,CAAC,cAA7C,CACK,SAAS,CAAC,wBADf,CACwC,OAAO,CAAC,WADhD,uBAEI,aAAM,YAAU,SAAhB,CACM,CAAC,CAAC,4IADR,EAFJ,EADJ,cAMI,6CANJ,GADJ,cASI,UAAG,SAAS,CAAC,kBAAb,qJATJ,cAYI,aAAK,SAAS,CAAC,8BAAf,wBACI,mCADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,cAA/B,EAFJ,GAZJ,cAgBI,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKE,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAA1C,iCAhBJ,GAFJ,GADJ,CAuBH,C,4BAED,uBAAe,CACX,GAAI,KAAKjC,KAAL,CAAWI,UAAX,EAAyB,CAA7B,CAAgC,MAAO,MAAKgC,YAAL,EAAP,CAAhC,IACK,IAAI,KAAKpC,KAAL,CAAWI,UAAX,EAAyB,CAA7B,CAAgC,MAAO,MAAKiC,eAAL,EAAP,CAAhC,IACA,OAAO,MAAKC,mBAAL,EAAP,CACR,C,sBAED,iBAAS,CACL,mBACI,YAAK,SAAS,CAAE,4BAA8B,KAAK1C,QAAL,CAAc2C,QAAd,EAA9C,uBACI,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,4CADJ,EADJ,cAII,YAAK,SAAS,CAAC,cAAf,UACK,KAAKC,YAAL,EADL,EAJJ,CAOK,KAAKxC,KAAL,CAAWK,UAAX,CAAsBC,IAAtB,CAA6B,CAA7B,CAAiC,KAAKmC,WAAL,EAAjC,CAAsD,EAP3D,GADJ,EADJ,EADJ,CAeH,C,0BA9NsBlD,KAAK,CAACmD,S,EAkOjC,cAAehD,CAAAA,YAAf","sourcesContent":["import React from \"react\";\nimport '../styles/welcome.css';\nimport '../styles/login_themes.css'\nimport validation from \"../utilis/validation\";\nimport authorize from \"../utilis/authorize\";\n\n\nclass Welcome_page extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.theme_id = Math.floor(Math.random() * (31 - 1)) + 1;\n        this.state = {\n            authorize: false,\n            username: '',\n            password: '',\n            AutoLogin: false,\n            state_view : 1,\n            alert_info : {mode: 0, text_alert: \"Adres e-mail bądż hasło są niepoprawne lub użytkownik nie istnieje!\"},\n            RegOutput: {\n                Name: '',\n                Surrname: '',\n                login: '',\n                Password: '',\n                RPassword: '',\n            }\n\n        };\n        document.title = 'Zaloguj sie'\n    }\n\n    login_alert() {\n        return (\n            <div className={\"login_alert_box \" + (this.state.alert_info.mode == 1 ? 'error_alert' : 'succes_alert')}>\n                <p>\n                    {this.state.alert_info.text_alert}\n                </p>\n            </div>\n        )\n    }\n\n    // componentDidMount() {\n    //     authorize.isAuthorized(this.props.Logged)\n    // }\n\n    set_alert(text, mode=1) {\n        this.setState({alert_info : {mode: mode, text_alert: text}})\n    }\n\n    submit_login() {\n        // this.setState({username : 'ratajx1@gmail.com', password: 'root'})\n        if (this.state.username.replaceAll(' ', '').length !== 0 &&\n            this.state.password.replaceAll(' ', '').length !== 0) {\n            if (validation.validateEmail(this.state.username)) {\n                authorize.authorize(this.state.username, this.state.password, this.state.AutoLogin).then(\n                    e => {\n                        if (e) {\n                            // console.log(this.props.history)\n                            window.location.href = '/main/dashboard'\n                            // alert(\"succes\")\n                        } else {\n                            this.set_alert('Adres e-mail bądź hasło są niepoprawne lub podane konto nie istnieje!')\n                        }\n                    }\n                )\n            } else this.set_alert('Zły format adresu e-mail!')\n        } else this.set_alert('Wszystkie pola muszą zostać wypełnione!')\n    }\n\n    submit_regiser() {\n        if (this.state.RegOutput.Name.replaceAll(' ', '').length !== 0 &&\n            this.state.RegOutput.Surrname.replaceAll(' ', '').length !== 0 &&\n            this.state.RegOutput.login.replaceAll(' ', '').length !== 0  &&\n            this.state.RegOutput.Password.replaceAll(' ', '').length !== 0 &&\n            this.state.RegOutput.RPassword.replaceAll(' ', '').length !== 0\n        ) {\n            if (\n                this.state.RegOutput.Password.replaceAll(' ', '')\n                !==\n                this.state.RegOutput.RPassword.replaceAll(' ', '')\n            ) {\n                return this.set_alert('Hasła nie są takie same')\n            }\n            if (\n                this.state.RegOutput.Password.replaceAll(' ', '').length < 8\n                &&\n                this.state.RegOutput.RPassword.replaceAll(' ', '').length < 8\n            ) {\n                return this.set_alert('Hasło musi mieć minimum 8 znaków!')\n            }\n\n            if (validation.validateEmail(this.state.RegOutput.login)) {\n                authorize.register(this.state.RegOutput.login, this.state.RegOutput.Password, this.state.RegOutput.Name, this.state.RegOutput.Surrname).then(\n                    e => {\n                        if (e) {\n                            // console.log(this.props.history)\n                            window.location.href = '/main/dashboard'\n                            // alert(\"succes\")\n                        } else {\n                            this.set_alert('Taki adres e-mail już został użyty!')\n                        }\n                    }\n                )\n            } else this.set_alert('Zły format adresu e-mail!')\n        } else this.set_alert('Wszystkie pola muszą zostać wypełnione!')\n    }\n\n    login_inputs() {\n        return (\n            <div className=\"login_back\">\n                <h3>Logowanie</h3>\n                <div className=\"login_back_body\">\n                    <div className=\"input_div\">\n                        <a>Adres e-mail</a>\n                        <input type=\"text\" placeholder=\"Adres e-mail\" onChange={e => this.setState({username :e.target.value})}/>\n                    </div>\n                    <div className=\"input_div\">\n                        <a>Haslo</a>\n                        <input type=\"password\" placeholder=\"Hasło\" onChange={e => this.setState({password :e.target.value})}/>\n                    </div>\n                    <label style={{width: '80%'}} className=\"container\">\n                        <input type=\"checkbox\" onChange={e => this.state.AutoLogin = e.target.checked}/>\n                        <span className=\"checkmark\"></span>\n                        <a>\n                            Nie wylogowywuj\n                        </a>\n                    </label>\n                    {/*<span className=\"forgot_pass_bt\" onClick={this.change_state.bind(this, 3)}>Przypomnij hasło</span>*/}\n                    <button className=\"login_button\" onClick={this.submit_login.bind(this)}>Zaloguj się</button>\n                </div>\n                <a className=\"login_create_account\">Nie posiadasz konta? <span onClick={this.change_state.bind(this, 2)}>Stwórz je</span> </a>\n            </div>\n        )\n\n    }\n\n    change_state(e) {\n        this.setState({state_view: e})\n        switch (e) {\n            case 1:\n                document.title = 'Zaloguj sie'\n                break;\n            case 2:\n                document.title = 'Zarejestruj się'\n                break;\n            case 3:\n                document.title = 'Resetowanie hasła'\n                break;\n        }\n    }\n\n    register_inputs() {\n        return (\n            <div className=\"login_back\">\n                <h3>Rejestracja</h3>\n                <div className=\"login_back_body\">\n                    <div className=\"input_div two_in\">\n                        <a>Imie i Nazwisko</a>\n                        <input type=\"text\" placeholder=\"Imię\" onChange={e => this.state.RegOutput.Name = e.target.value}/>\n                        <input type=\"text\" placeholder=\"Nazwisko\" onChange={e => this.state.RegOutput.Surrname = e.target.value}/>\n                    </div>\n                    <div className=\"input_div\">\n                        <a>Adres e-mail</a>\n                        <input type=\"email\" placeholder=\"Adres e-mail\" onChange={e => this.state.RegOutput.login = e.target.value}/>\n                    </div>\n                    <div className=\"input_div\">\n                        <a>Haslo</a>\n                        <input type=\"password\" placeholder=\"Hasło\" onChange={e => this.state.RegOutput.Password = e.target.value}/>\n                    </div>\n                    <div className=\"input_div\">\n                        <a>Powtórz haslo</a>\n                        <input type=\"password\" placeholder=\"Powtórz hasło\" onChange={e => this.state.RegOutput.RPassword = e.target.value}/>\n                    </div>\n\n                    <button onClick={this.submit_regiser.bind(this)} className=\"login_button\">Zarejestruj się</button>\n                </div>\n                <a className=\"login_create_account\">Posiadasz już konto? <span onClick={this.change_state.bind(this, 1)}>Zaloguj sie</span> </a>\n            </div>\n        )\n    }\n\n    forgot_pass_intputs() {\n        return (\n            <div className=\"login_back forgot_pass_back\">\n                <h3>Resetowanie hasła</h3>\n                <div className=\"login_back_body\">\n                    <button className=\"return_back_bt_forgot\" onClick={this.change_state.bind(this, 1)}>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\"\n                             className=\"bi bi-arrow-left-short\" viewBox=\"0 0 16 16\">\n                            <path fill-rule=\"evenodd\"\n                                  d=\"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z\"/>\n                        </svg>\n                        <a>Powrót do logowania</a>\n                    </button>\n                    <a className=\"forgot_pass_body\">\n                        Jeżeli istnieje konto posiadające dany adres e-mail to na podany adres przyjdą dalsze instrukcje resetowania hasła.\n                    </a>\n                    <div className=\"input_div forgot_pass_inputs\">\n                        <a>Adres e-mail</a>\n                        <input type=\"text\" placeholder=\"Adres e-mail\"/>\n                    </div>\n                    <button className=\"login_button\" onClick={this.submit_regiser.bind(this)}>Zresetuj hasło</button>\n                </div>\n            </div>\n        )\n    }\n\n    switch_state() {\n        if (this.state.state_view == 1) return this.login_inputs()\n        else if (this.state.state_view == 2) return this.register_inputs()\n        else return this.forgot_pass_intputs()\n    }\n\n    render() {\n        return (\n            <div className={'welcome_background theme_' + this.theme_id.toString()} >\n                <div className=\"welcome_back\">\n                    <div className=\"welcome_text\">\n                        <div className=\"welcome_header\">\n                            <h1>Platforma Edukacyjna</h1>\n                        </div>\n                        <div className=\"welcome_body\">\n                            {this.switch_state()}\n                        </div>\n                        {this.state.alert_info.mode > 0 ? this.login_alert() : ''}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default Welcome_page;"]},"metadata":{},"sourceType":"module"}