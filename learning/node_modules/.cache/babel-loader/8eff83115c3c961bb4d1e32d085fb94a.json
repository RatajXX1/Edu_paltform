{"ast":null,"code":"import _asyncToGenerator from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/regenerator/index.js\";import React,{memo,useMemo}from\"react\";import'../styles/CreateLesson.css';import Cropper from\"react-cropper\";import'cropperjs/dist/cropper.css';import ReactQuill from\"react-quill\";import'react-quill/dist/quill.snow.css';import Calendar_pop from\"./calendar_pop\";import ShareLesson from\"./ShareLesson\";import*as mime from'react-native-mime-types';import serverPath from\"../utilis/server-path\";import{Report}from\"notiflix/build/notiflix-report-aio\";import loading_lesson from'../images/loading_lesson.svg';import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateLesson=/*#__PURE__*/function(_React$Component){_inherits(CreateLesson,_React$Component);var _super=_createSuper(CreateLesson);function CreateLesson(props){var _this;_classCallCheck(this,CreateLesson);_this=_super.call(this,props);_this.state={UrlPath:serverPath(),LoadingPop:false,LessonCreated:false,EditFile:false,CalendarOpen:false,BackgroundName:'',AdditionalImages:[],Content:{Subject:'',Image:'',Desc:'',Lesson:[{Text:'',Answer:1,Files:[]}],EnableCode:0,Code:'',CanExpire:0,Expire:new Date().toLocaleDateString(),Users:[],Groups:[]}};_this.cropref=/*#__PURE__*/React.createRef();_this.modules={toolbar:{container:[[{'header':[1,2,3,4,5,6,false]}],['bold','italic','underline'],[{'list':'ordered'},{'list':'bullet'}],[{'align':[]}],['link','image'],['clean'],[{'color':[]}]]// handlers: {\n//     image: this.imageHandler,\n// },\n}};return _this;}_createClass(CreateLesson,[{key:\"CopyURL\",value:function CopyURL(){var _this2=this;var copyied=this.state.UrlPath;navigator.clipboard.writeText(this.state.UrlPath);this.state.UrlPath='skopiowano';this.forceUpdate();setTimeout(function(){_this2.state.UrlPath=copyied;_this2.forceUpdate();},800);}},{key:\"CreateNext\",value:function CreateNext(){document.location.reload();}},{key:\"CreatingLessonPop\",value:function CreatingLessonPop(){return/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_creatingpop',children:[!this.state.LessonCreated&&/*#__PURE__*/_jsx(\"h2\",{children:\"Tworzenie lekcji, prosze czeka\\u0107!\"}),!this.state.LessonCreated&&/*#__PURE__*/_jsx(\"img\",{className:'CreateLesson_creatingpop_view_loading',src:loading_lesson,alt:'loading'}),this.state.LessonCreated&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"CreateLesson_creatingpop_done_logo\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Lekcja zosta\\u0142a utworzona pomy\\u015Blnie!\"}),/*#__PURE__*/_jsxs(\"fieldset\",{onClick:this.CopyURL.bind(this),children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Adres URL lekcji\"}),/*#__PURE__*/_jsx(\"a\",{children:this.state.UrlPath}),/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-clipboard-check\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.CreateNext.bind(this),children:\"Stw\\xF3rz now\\u0105 lekcje\"})]})]});}},{key:\"onSelectedFIle\",value:function onSelectedFIle(e){var _this3=this;if(e.target.files.length>0){this.state.BackgroundName=e.target.files[0].name;this.setState({EditFile:true});var reader=new FileReader();reader.readAsDataURL(e.target.files[0]);reader.onload=function(d){var img=new Image();img.src=d.target.result;img.onload=function(c){var _this3$cropref;(_this3$cropref=_this3.cropref)===null||_this3$cropref===void 0?void 0:_this3$cropref.current.cropper.replace(c.target.src);};};}else{this.setState({EditFile:false});}}},{key:\"ClickOnDate\",value:function ClickOnDate(time){// console.log(time)\ntime.setMonth(time.getMonth()+1);document.querySelector('#CreateLesson_main_view_expire_date_input').value=time.getFullYear()+'-'+(time.getMonth().toString().length===1?'0'+time.getMonth():time.getMonth())+'-'+(time.getDate().toString().length===1?'0'+time.getDate():time.getDate());}},{key:\"RemoveChapter\",value:function RemoveChapter(id){if(this.state.Content.Lesson[id]!==undefined){this.state.Content.Lesson.splice(id,1);this.forceUpdate();}}},{key:\"onCrop\",value:function onCrop(){var _this4=this;function blobToFile(theBlob,fileName){return new File([theBlob],fileName,{lastModified:new Date().getTime(),type:theBlob.type});}this.cropref.current.cropper.getCroppedCanvas().toBlob(function(e){_this4.state.Content.Image=blobToFile(e,_this4.state.BackgroundName);});}},{key:\"removeSelectedFile\",value:function removeSelectedFile(chapter,ID){if(this.state.Content.Lesson[chapter]!==undefined&&this.state.Content.Lesson[chapter].Files[ID]!==undefined){this.state.Content.Lesson[chapter].Files.splice(ID,1);this.forceUpdate();}}},{key:\"renderFiles\",value:function renderFiles(id){var tas=[];for(var d=0;d<this.state.Content.Lesson[id].Files.length;d++){tas.push(/*#__PURE__*/_jsxs(\"div\",{onClick:this.removeSelectedFile.bind(this,id,d),className:'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt ',children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-file-arrow-down\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'Dash_main_view_body_chapter_files_item_text',children:[/*#__PURE__*/_jsx(\"a\",{style:{maxWidth:'50%'},children:this.state.Content.Lesson[id].Files[d].name.substr(0,this.state.Content.Lesson[id].Files[d].name.lastIndexOf('.')+1)}),/*#__PURE__*/_jsxs(\"a\",{children:[\".\",this.state.Content.Lesson[id].Files[d].name.substr(this.state.Content.Lesson[id].Files[d].name.lastIndexOf('.')+1,this.state.Content.Lesson[id].Files[d].name.length)]})]}),/*#__PURE__*/_jsx(\"svg\",{className:'Dash_main_view_body_chapter_files_item_close',xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"})})]}));}return tas;}},{key:\"RenderChapters\",value:function RenderChapters(){var _this5=this;var tab=[];var _loop=function _loop(i){tab.push(/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body_text',children:[_this5.state.Content.Lesson.length>1&&/*#__PURE__*/_jsxs(\"h3\",{children:[\"Rodzia\\u0142. \",i+1]}),/*#__PURE__*/_jsx(ReactQuill,{modules:_this5.modules,className:'CreateLesson_main_view_editor',placeholder:'Zawartość lekcji',onChange:function onChange(html){_this5.state.Content.Lesson[i].Text=html;}}),_this5.state.Content.Lesson.length>1&&/*#__PURE__*/_jsxs(\"button\",{className:'CreateLesson_main_view_body_remove_chapter',onClick:_this5.RemoveChapter.bind(_this5,i),children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-x\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"})}),\"Usu\\u0144 rozdzia\\u0142\"]}),/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body_text_answer',children:[/*#__PURE__*/_jsx(\"a\",{style:{display:'inline-block',marginTop:'15px'},children:\"Odpowiedz w formie:\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){_this5.state.Content.Lesson[i].Answer=e.target.value;},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"tekstu\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"pliku/\\xF3w\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"pliku/\\xF3w i tekstu\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Za\\u0142acz pliki\",/*#__PURE__*/_jsx(\"input\",{type:'file',multiple:true,style:{display:'none'},onChange:function onChange(e){_this5.state.Content.Lesson[i].Files=[].concat(_toConsumableArray(_this5.state.Content.Lesson[i].Files),_toConsumableArray(e.target.files));_this5.forceUpdate();}})]}),/*#__PURE__*/_jsx(\"div\",{className:'CreateLesson_main_view_body_text_answer_files',children:_this5.renderFiles(i)})]})]}));};for(var i=0;i<this.state.Content.Lesson.length;i++){_loop(i);}return tab;}},{key:\"addChapter\",value:function addChapter(){// console.log(this.state.Content.Lesson[0].Text)\nif(this.state.Content.Lesson.length<11){this.state.Content.Lesson.push({Text:'',Answer:1,Files:[]});this.forceUpdate();}}},{key:\"sendFiles\",value:function(){var _sendFiles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var index,form,i,resp,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:index=_args.length>0&&_args[0]!==undefined?_args[0]:0;// console.log(\"Zaczynam przesyłanie plików...\")\nform=new FormData();for(i=0;i<this.state.Content.Lesson[index].Files.length;i++){form.append(this.state.Content.Lesson[index].Files[i].name,this.state.Content.Lesson[index].Files[i]);}_context.next=5;return fetch(serverPath()+\"api/Files/files.php\",{method:\"POST\",headers:{'Access-Control-Allow-Origin':'*'// 'Content-Type': 'multipart/form-data'\n},body:form,credentials:'include'}).then(function(data){return data.json();}).catch(null);case 5:resp=_context.sent;if(resp==null){console.log('Błąd w przesyłaniu plików');}else{if(resp['CODE']==='OK'){this.state.Content.Lesson[index].Files=resp['Files'].join('|');console.log('Udało sie przesyłać pliki');}else{this.state.Content.Lesson[index].Files='';console.log('Błąd w przesyłaniu plików');}}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function sendFiles(){return _sendFiles.apply(this,arguments);}return sendFiles;}()},{key:\"ImageFromEditor\",value:function(){var _ImageFromEditor=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(index){var _this6=this;var dataURItoBlob,blobToFile,sendData,htmlParser,form,iterator;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dataURItoBlob=function dataURItoBlob(dataURI){// convert base64 to raw binary data held in a string\n// doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\nvar byteString=atob(dataURI.split(',')[1]);// separate out the mime component\nvar mimeString=dataURI.split(',')[0].split(':')[1].split(';')[0];// write the bytes of the string to an ArrayBuffer\nvar ab=new ArrayBuffer(byteString.length);var ia=new Uint8Array(ab);for(var i=0;i<byteString.length;i++){ia[i]=byteString.charCodeAt(i);}return new Blob([ab],{type:mimeString});};blobToFile=function blobToFile(theBlob,fileName){return new File([theBlob],fileName,{lastModified:new Date().getTime(),type:theBlob.type});};sendData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Data){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(serverPath()+\"/api/Files/ImageContent.php\",{method:\"POST\",headers:{'Access-Control-Allow-Origin':'*'// 'Content-Type': 'multipart/form-data'\n},body:Data,credentials:'include'}).then(function(data){return data.json();}).catch(null);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function sendData(_x2){return _ref.apply(this,arguments);};}();if(!(this.state.Content.Lesson[index].Text.replaceAll(\" \",\"\")!==\"\")){_context3.next=11;break;}htmlParser=document.createElement('body');htmlParser.innerHTML=this.state.Content.Lesson[index].Text;form=new FormData();iterator=1;htmlParser.querySelectorAll('img').forEach(function(e){e.id=iterator.toString()+'_image_'+new Date().getTime();var file=dataURItoBlob(e.src);form.append(e.id+'.'+mime.extension(file.type),blobToFile(file,e.id+'.'+mime.extension(file.type)));e.id=e.id+'.'+mime.extension(file.type);iterator+=1;});_context3.next=11;return sendData(form).then(function(resp){if(resp!==null){if(resp['CODE']==='OK'){if(Object.keys(resp['Files']).length>0){htmlParser.querySelectorAll('img').forEach(function(e){e.src=serverPath()+'api/Files'+resp['Files'][e.id];});_this6.state.Content.Lesson[index].Text=htmlParser.innerHTML;}}else{console.log(\"Cos nie poszło z tym edytorem!\");}}});case 11:case\"end\":return _context3.stop();}}},_callee3,this);}));function ImageFromEditor(_x){return _ImageFromEditor.apply(this,arguments);}return ImageFromEditor;}()},{key:\"sendForm\",value:function(){var _sendForm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var i,_i,size_Count,d,form,resp,_i2,_resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(this.state.Content.Subject.replaceAll(\" \",\"\")==='')){_context4.next=2;break;}return _context4.abrupt(\"return\",toast.error('Lekcja musi zawierać temat!',{closeOnClick:true,theme:'colored'}));case 2:if(!(this.state.Image==='')){_context4.next=4;break;}return _context4.abrupt(\"return\",toast.error('Lekcja musi zawierać zdjecie!',{closeOnClick:true,theme:'colored'}));case 4:i=0;case 5:if(!(i<this.state.Content.Lesson.length)){_context4.next=11;break;}if(!(this.state.Content.Lesson[i].Text.replaceAll(\" \",'')===\"\")){_context4.next=8;break;}return _context4.abrupt(\"return\",toast.error('Treść rodziału musi być uzupełniona!',{closeOnClick:true,theme:'colored'}));case 8:i++;_context4.next=5;break;case 11:_i=0;case 12:if(!(_i<this.state.Content.Lesson.length)){_context4.next=20;break;}size_Count=0;for(d=0;d<this.state.Content.Lesson[_i].Files.length;d++){size_Count+=this.state.Content.Lesson[_i].Files[d].size;}if(!(size_Count>=10000000)){_context4.next=17;break;}return _context4.abrupt(\"return\",toast.error('Załączone pliki nie mogą przekracząć 10Mb!',{closeOnClick:true,theme:'colored'}));case 17:_i++;_context4.next=12;break;case 20:if(!(this.state.Content.Users.length+this.state.Content.Groups.length===0)){_context4.next=22;break;}return _context4.abrupt(\"return\",toast.error('Trzeba wyznaczyć osoby/grupy które mogą mieć dostęp!',{closeOnClick:true,theme:'colored'}));case 22:this.state.LoadingPop=true;this.forceUpdate();if(!(this.state.Content.Image!=='')){_context4.next=31;break;}form=new FormData();form.append(this.state.Content.Image.name,this.state.Content.Image);_context4.next=29;return fetch(serverPath()+\"api/Files/ImageContent.php\",{method:\"POST\",headers:{'Access-Control-Allow-Origin':'*'// 'Content-Type': 'multipart/form-data'\n},body:form,credentials:'include'}).then(function(data){return data.json();}).catch(null);case 29:resp=_context4.sent;if(resp==null){console.log('Błąd w przesyłaniu plików');}else{if(resp['CODE']==='OK'){this.state.Content.Image=resp['Files'][this.state.Content.Image.name];console.log('Udało sie przesyłać pliki');}else{console.log('Błąd w przesyłaniu plików');}}case 31:_i2=0;case 32:if(!(_i2<this.state.Content.Lesson.length)){_context4.next=45;break;}if(!(this.state.Content.Lesson[_i2].Files.length>0)){_context4.next=38;break;}_context4.next=36;return this.sendFiles(_i2);case 36:_context4.next=39;break;case 38:this.state.Content.Lesson[_i2].Files='';case 39:if(!(this.state.Content.Lesson[_i2].Text.length>0)){_context4.next=42;break;}_context4.next=42;return this.ImageFromEditor(_i2);case 42:_i2++;_context4.next=32;break;case 45:_context4.prev=45;_context4.next=48;return fetch(serverPath()+\"api/Lessons/CreateLesson.php\",{method:\"POST\",headers:{'Access-Control-Allow-Origin':'*','Content-Type':'application/json'},body:JSON.stringify(this.state.Content),credentials:'include'}).then(function(data){return data.json();}).catch(null);case 48:_resp=_context4.sent;if(!(_resp!==null)){_context4.next=61;break;}if(!(_resp[\"CODE\"]==='OK')){_context4.next=57;break;}// window.sessionStorage.setItem('Token', resp['Token'])\nthis.state.LessonCreated=true;this.state.UrlPath=window.location.origin+'/main/lesson?ID='+_resp['ID'];this.forceUpdate();return _context4.abrupt(\"return\",true);case 57:Report.failure('Wystąpił błąd!','Wystapił niznany błąd podczas tworzenia leckji, spróbój ponownie później!','OK',function(){window.location.reload();});return _context4.abrupt(\"return\",false);case 59:_context4.next=62;break;case 61:return _context4.abrupt(\"return\",false);case 62:_context4.next=68;break;case 64:_context4.prev=64;_context4.t0=_context4[\"catch\"](45);Report.failure('Wystąpił błąd!','Wystapił niznany błąd podczas tworzenia leckji, spróbój ponownie później! <br>'+_context4.t0.toString(),'OK',function(){window.location.reload();});return _context4.abrupt(\"return\",false);case 68:case\"end\":return _context4.stop();}}},_callee4,this,[[45,64]]);}));function sendForm(){return _sendForm.apply(this,arguments);}return sendForm;}()},{key:\"test\",value:function test(){console.log(this.state.Content.Users,this.state.Content.Groups);}},{key:\"render\",value:function render(){var _this7=this;if(this.state.LoadingPop)return/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view',children:[/*#__PURE__*/_jsx(\"div\",{className:'CreateLesson_main_view_header',children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tworzenie lekcje\"})}),this.CreatingLessonPop()]});else return/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view',children:[/*#__PURE__*/_jsx(\"div\",{className:'CreateLesson_main_view_header',children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tworzenie lekcje\"})}),/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body',children:[/*#__PURE__*/_jsxs(\"div\",{style:{borderBottom:'1px solid #282c34'},onClick:function onClick(){document.querySelector('#subject_input').focus();},className:'CreateLesson_main_view_body_text',children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Temat\"}),/*#__PURE__*/_jsx(\"input\",{id:'subject_input',type:'text',onChange:function onChange(e){_this7.state.Content.Subject=e.target.value;}})]}),/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body_seletct_background',children:[/*#__PURE__*/_jsx(\"a\",{style:{display:'inline-block',margin:'10px 0 0 0'},children:\"Ustaw zdjecie lekcji\"}),/*#__PURE__*/_jsxs(\"label\",{className:'CreateLesson_main_view_select_image',children:[/*#__PURE__*/_jsx(\"input\",{type:'file',style:{display:'none'},accept:'image/png, image/gif, image/jpeg',onChange:function onChange(e){_this7.onSelectedFIle(e);}}),\"Wybierz\"]}),this.state.EditFile&&/*#__PURE__*/_jsx(Cropper,{src:'https://wallpaperaccess.com/full/1916098.jpg',className:'CreateLesson_main_view_body_seletct_background_edit',aspectRatio:16/9,guides:false,checkCrossOrigin:false,responsive:true,scaleX:1,viewMode:3,autoCropArea:1,minCropBoxHeight:100,minCropBoxWidth:250,crop:this.onCrop.bind(this),ref:this.cropref})]}),/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body_text',children:[/*#__PURE__*/_jsx(\"a\",{children:\"Opis lekcji (Opcjonalne)\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:'Opis',onChange:function onChange(e){_this7.state.Content.Desc=e.target.value;}})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Zawarto\\u015B\\u0107 lekcji\"}),this.RenderChapters(),this.state.Content.Lesson.length<10&&/*#__PURE__*/_jsx(\"button\",{className:'CreateLesson_main_view_add_chapter',onClick:this.addChapter.bind(this),children:\"Dodaj rozdzia\\u0142\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Dost\\u0119pno\\u015B\\u0107 lekcji\"}),/*#__PURE__*/_jsxs(\"div\",{className:'CreateLesson_main_view_body_text',children:[/*#__PURE__*/_jsx(\"a\",{children:\"Przypisz u\\u017Cytkownik\\xF3w bad\\u017A grupy do lekcji.\"}),/*#__PURE__*/_jsx(ShareLesson,{users:this.state.Content.Users,group:this.state.Content.Groups})]})]}),/*#__PURE__*/_jsx(\"div\",{className:'CreateLesson_main_view_summary',children:/*#__PURE__*/_jsx(\"button\",{onClick:this.sendForm.bind(this),children:\"Stw\\xF3rz\"})})]});}}]);return CreateLesson;}(React.Component);export{CreateLesson as default};","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/CreateLesson.js"],"names":["React","memo","useMemo","Cropper","ReactQuill","Calendar_pop","ShareLesson","mime","serverPath","Report","loading_lesson","toast","CreateLesson","props","state","UrlPath","LoadingPop","LessonCreated","EditFile","CalendarOpen","BackgroundName","AdditionalImages","Content","Subject","Image","Desc","Lesson","Text","Answer","Files","EnableCode","Code","CanExpire","Expire","Date","toLocaleDateString","Users","Groups","cropref","createRef","modules","toolbar","container","copyied","navigator","clipboard","writeText","forceUpdate","setTimeout","document","location","reload","CopyURL","bind","CreateNext","e","target","files","length","name","setState","reader","FileReader","readAsDataURL","onload","d","img","src","result","c","current","cropper","replace","time","setMonth","getMonth","querySelector","value","getFullYear","toString","getDate","id","undefined","splice","blobToFile","theBlob","fileName","File","lastModified","getTime","type","getCroppedCanvas","toBlob","chapter","ID","tas","push","removeSelectedFile","maxWidth","substr","lastIndexOf","tab","i","html","RemoveChapter","display","marginTop","renderFiles","index","form","FormData","append","fetch","method","headers","body","credentials","then","data","json","catch","resp","console","log","join","dataURItoBlob","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","sendData","Data","replaceAll","htmlParser","createElement","innerHTML","iterator","querySelectorAll","forEach","file","extension","Object","keys","error","closeOnClick","theme","size_Count","size","sendFiles","ImageFromEditor","JSON","stringify","window","origin","failure","CreatingLessonPop","borderBottom","focus","margin","onSelectedFIle","onCrop","RenderChapters","addChapter","sendForm","Component"],"mappings":"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","sourcesContent":["import React, {memo, useMemo} from \"react\";\nimport '../styles/CreateLesson.css';\nimport Cropper from \"react-cropper\";\nimport 'cropperjs/dist/cropper.css';\nimport ReactQuill from \"react-quill\";\nimport 'react-quill/dist/quill.snow.css';\nimport Calendar_pop from \"./calendar_pop\";\nimport ShareLesson from \"./ShareLesson\";\nimport * as mime from 'react-native-mime-types';\nimport serverPath from \"../utilis/server-path\";\nimport {Report} from \"notiflix/build/notiflix-report-aio\";\n\nimport loading_lesson from '../images/loading_lesson.svg'\nimport {toast} from \"react-toastify\";\n\nexport default class CreateLesson extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            UrlPath: serverPath(),\n            LoadingPop: false,\n            LessonCreated: false,\n            EditFile: false,\n            CalendarOpen: false,\n            BackgroundName: '',\n            AdditionalImages: [],\n            Content: {\n                Subject: '',\n                Image: '',\n                Desc: '',\n                Lesson: [\n                    {\n                        Text: '',\n                        Answer: 1,\n                        Files: [],\n                    }\n                ],\n                EnableCode: 0,\n                Code: '',\n                CanExpire: 0,\n                Expire: new Date().toLocaleDateString(),\n                Users: [],\n                Groups: []\n            }\n        }\n\n        this.cropref = React.createRef()\n\n        this.modules = {\n            toolbar: {\n                container: [\n                    [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n                    ['bold', 'italic', 'underline'],\n                    [{ 'list': 'ordered' }, { 'list': 'bullet' }],\n                    [{ 'align': [] }],\n                    ['link', 'image'],\n                    ['clean'],\n                    [{ 'color': [] }]\n                ],\n\n\n                // handlers: {\n                //     image: this.imageHandler,\n                // },\n            }\n        }\n    }\n\n\n    CopyURL() {\n        const copyied = this.state.UrlPath\n        navigator.clipboard.writeText(this.state.UrlPath)\n        this.state.UrlPath = 'skopiowano'\n        this.forceUpdate()\n        setTimeout(() => {\n            this.state.UrlPath = copyied\n            this.forceUpdate()\n        }, 800)\n    }\n\n    CreateNext() {\n        document.location.reload()\n    }\n\n    CreatingLessonPop() {\n        return (\n            <div className={'CreateLesson_creatingpop'}>\n                {!this.state.LessonCreated && <h2>Tworzenie lekcji, prosze czekać!</h2>}\n                {!this.state.LessonCreated && <img className={'CreateLesson_creatingpop_view_loading'} src={loading_lesson} alt={'loading'}/>}\n\n                {\n                    this.state.LessonCreated\n                        &&\n                    <div>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                             className=\"CreateLesson_creatingpop_done_logo\" viewBox=\"0 0 16 16\">\n                            <path\n                                d=\"M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z\"/>\n                            <path\n                                d=\"M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z\"/>\n                        </svg>\n                        <h2>Lekcja została utworzona pomyślnie!</h2>\n                        <fieldset onClick={this.CopyURL.bind(this)}>\n                            <legend>Adres URL lekcji</legend>\n                            <a>{this.state.UrlPath}</a>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                 className=\"bi bi-clipboard-check\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                      d=\"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z\"/>\n                                <path\n                                    d=\"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z\"/>\n                                <path\n                                    d=\"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z\"/>\n                            </svg>\n                        </fieldset>\n                        <button onClick={this.CreateNext.bind(this)}>Stwórz nową lekcje</button>\n                    </div>\n                }\n\n            </div>\n        )\n    }\n\n    onSelectedFIle(e) {\n        if (e.target.files.length > 0) {\n            this.state.BackgroundName = e.target.files[0].name\n            this.setState({EditFile: true})\n            const reader = new FileReader()\n            reader.readAsDataURL(e.target.files[0])\n            reader.onload = (d) => {\n                const img = new Image()\n                img.src = d.target.result\n                img.onload = (c) => {\n                    this.cropref?.current.cropper.replace(c.target.src)\n                }\n            }\n        } else {\n            this.setState({EditFile: false})\n        }\n    }\n\n    ClickOnDate(time) {\n        // console.log(time)\n        time.setMonth(time.getMonth() + 1)\n        document.querySelector('#CreateLesson_main_view_expire_date_input')\n            .value = time.getFullYear() + '-' + (time.getMonth().toString().length === 1 ? '0' + time.getMonth() : time.getMonth()) + '-' + (time.getDate().toString().length === 1 ? '0' + time.getDate() : time.getDate())\n    }\n\n    RemoveChapter(id) {\n        if (this.state.Content.Lesson[id] !== undefined) {\n            this.state.Content.Lesson.splice(id , 1)\n            this.forceUpdate()\n        }\n    }\n\n    onCrop() {\n        function blobToFile(theBlob, fileName){\n            return new File([theBlob], fileName, { lastModified: new Date().getTime(), type: theBlob.type })\n        }\n        this.cropref.current.cropper.getCroppedCanvas().toBlob((e) => {this.state.Content.Image = blobToFile(e, this.state.BackgroundName);})\n    }\n\n    removeSelectedFile(chapter, ID) {\n        if (this.state.Content.Lesson[chapter] !== undefined &&  this.state.Content.Lesson[chapter].Files[ID] !== undefined) {\n            this.state.Content.Lesson[chapter].Files.splice(ID, 1)\n            this.forceUpdate()\n        }\n    }\n\n    renderFiles(id) {\n        const tas = []\n        for(let d = 0; d < this.state.Content.Lesson[id].Files.length; d++) {\n            tas.push(<div onClick={this.removeSelectedFile.bind(this, id, d)} className={'Dash_main_view_body_chapter_files_item Dash_main_view_body_chapter_files_item_close_bt '}>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                     className=\"bi bi-file-arrow-down\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z\"/>\n                    <path\n                        d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\"/>\n                </svg>\n                <div className={'Dash_main_view_body_chapter_files_item_text'}>\n                    <a style={{maxWidth: '50%'}}>\n                        {\n                            this.state.Content.Lesson[id].Files[d].name.substr(0, this.state.Content.Lesson[id].Files[d].name.lastIndexOf('.') + 1)\n                        }\n                    </a>\n                    <a>\n                        .\n                        {\n                            this.state.Content.Lesson[id].Files[d].name.substr(this.state.Content.Lesson[id].Files[d].name.lastIndexOf('.') + 1, this.state.Content.Lesson[id].Files[d].name.length)\n                        }\n                    </a>\n                    </div>\n\n                <svg className={'Dash_main_view_body_chapter_files_item_close'} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                     viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                </svg>\n            </div>)\n            }\n        return tas\n    }\n\n    RenderChapters() {\n        const tab = []\n        for(let i = 0; i < this.state.Content.Lesson.length; i++) {\n            tab.push(<div className={'CreateLesson_main_view_body_text'}>\n                { (this.state.Content.Lesson.length > 1) && <h3>Rodział. {i + 1}</h3>}\n                <ReactQuill modules={this.modules} className={'CreateLesson_main_view_editor'} placeholder={'Zawartość lekcji'} onChange={(html) => {this.state.Content.Lesson[i].Text = html}}/>\n\n                {(this.state.Content.Lesson.length > 1) && <button className={'CreateLesson_main_view_body_remove_chapter'} onClick={this.RemoveChapter.bind(this, i)}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                         className=\"bi bi-x\" viewBox=\"0 0 16 16\">\n                        <path\n                            d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n                    </svg>\n                    Usuń rozdział\n                </button>}\n\n                <div className={'CreateLesson_main_view_body_text_answer'}>\n                    <a style={{display: 'inline-block', marginTop: '15px'}}>Odpowiedz w formie:</a>\n                    <select onChange={(e) => {this.state.Content.Lesson[i].Answer = e.target.value}}>\n                        <option value={1}>tekstu</option>\n                        <option value={2}>pliku/ów</option>\n                        <option value={3}>pliku/ów i tekstu</option>\n                    </select>\n                    <label>\n                        Załacz pliki\n                        <input type={'file'} multiple style={{display: 'none'}} onChange={\n                            (e) => {\n                                this.state.Content.Lesson[i].Files = [...this.state.Content.Lesson[i].Files, ...e.target.files]\n                                this.forceUpdate()\n                            }\n                        }/>\n                    </label>\n                    <div className={'CreateLesson_main_view_body_text_answer_files'}>\n                        {\n                           this.renderFiles(i)\n                        }\n                    </div>\n                </div>\n            </div>)\n        }\n        return tab\n    }\n\n    addChapter() {\n        // console.log(this.state.Content.Lesson[0].Text)\n        if (this.state.Content.Lesson.length < 11) {\n            this.state.Content.Lesson.push({Text: '', Answer: 1, Files: []})\n            this.forceUpdate()\n        }\n    }\n\n    async sendFiles(index = 0) {\n        // console.log(\"Zaczynam przesyłanie plików...\")\n        const form = new FormData()\n        for (let i = 0; i < this.state.Content.Lesson[index].Files.length; i++) {\n            form.append(this.state.Content.Lesson[index].Files[i].name, this.state.Content.Lesson[index].Files[i])\n        }\n        const resp = await fetch(serverPath() + \"api/Files/files.php\", {\n            method:\"POST\",\n            headers: {\n                'Access-Control-Allow-Origin':'*',\n                // 'Content-Type': 'multipart/form-data'\n            },\n            body: form,\n            credentials: 'include'\n        }).then(data => data.json()).catch(null)\n\n        if (resp == null) {\n            console.log('Błąd w przesyłaniu plików')\n        } else {\n            if (resp['CODE'] === 'OK') {\n                this.state.Content.Lesson[index].Files = resp['Files'].join('|')\n                console.log('Udało sie przesyłać pliki')\n            } else {\n                this.state.Content.Lesson[index].Files = ''\n                console.log('Błąd w przesyłaniu plików')\n            }\n        }\n    }\n\n    async ImageFromEditor(index) {\n        const dataURItoBlob = (dataURI) => {\n            // convert base64 to raw binary data held in a string\n            // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n            var byteString = atob(dataURI.split(',')[1]);\n\n            // separate out the mime component\n            var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n            // write the bytes of the string to an ArrayBuffer\n            var ab = new ArrayBuffer(byteString.length);\n            var ia = new Uint8Array(ab);\n            for (var i = 0; i < byteString.length; i++) {\n                ia[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([ab], {type: mimeString});\n        }\n\n        const blobToFile = (theBlob, fileName) => {\n            return new File([theBlob], fileName, { lastModified: new Date().getTime(), type: theBlob.type })\n        }\n\n        const sendData = async (Data) => {\n            return await fetch(serverPath() + \"/api/Files/ImageContent.php\", {\n                method:\"POST\",\n                headers: {\n                    'Access-Control-Allow-Origin':'*',\n                    // 'Content-Type': 'multipart/form-data'\n                },\n                body: Data,\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n        }\n\n        if (this.state.Content.Lesson[index].Text.replaceAll(\" \", \"\") !== \"\") {\n            const htmlParser = document.createElement('body')\n            htmlParser.innerHTML = this.state.Content.Lesson[index].Text\n            const form = new FormData()\n            let iterator = 1\n            htmlParser.querySelectorAll('img').forEach((e) => {\n                e.id = iterator.toString() + '_image_' + new Date().getTime()\n                const file = dataURItoBlob(e.src)\n                form.append(e.id + '.' + mime.extension(file.type), blobToFile(file, e.id + '.' + mime.extension(file.type)))\n                e.id = e.id + '.' + mime.extension(file.type)\n                iterator += 1\n            })\n            await sendData(form).then((resp) => {\n                if (resp !== null) {\n                    if (resp['CODE'] === 'OK') {\n                        if (Object.keys(resp['Files']).length > 0) {\n                            htmlParser.querySelectorAll('img')\n                                .forEach((e) => {\n                                        e.src = serverPath() + 'api/Files' + resp['Files'][e.id]\n                                    }\n                                )\n                            this.state.Content.Lesson[index].Text = htmlParser.innerHTML\n                        }\n                    } else {\n                        console.log(\"Cos nie poszło z tym edytorem!\")\n                    }\n                }\n            })\n        }\n    }\n\n    async sendForm() {\n        // if is ok when post data\n\n        if (this.state.Content.Subject.replaceAll(\" \", \"\") === '') {\n            return toast.error('Lekcja musi zawierać temat!',{closeOnClick: true, theme: 'colored'})\n        }\n\n        if (this.state.Image === '') {\n            return toast.error('Lekcja musi zawierać zdjecie!',{closeOnClick: true, theme: 'colored'})\n        }\n\n        for (let i = 0; i < this.state.Content.Lesson.length; i++) {\n            if (this.state.Content.Lesson[i].Text.replaceAll(\" \", '') === \"\") {\n                return toast.error('Treść rodziału musi być uzupełniona!',{closeOnClick: true, theme: 'colored'})\n            }\n        }\n\n        for (let i = 0; i < this.state.Content.Lesson.length; i++) {\n            let size_Count = 0\n            for (let d = 0; d < this.state.Content.Lesson[i].Files.length ; d++) {\n                size_Count += this.state.Content.Lesson[i].Files[d].size\n            }\n            if (size_Count >= 10000000) {\n                return toast.error('Załączone pliki nie mogą przekracząć 10Mb!',{closeOnClick: true, theme: 'colored'})\n            }\n        }\n\n        if (this.state.Content.Users.length + this.state.Content.Groups.length === 0) {\n            return toast.error('Trzeba wyznaczyć osoby/grupy które mogą mieć dostęp!',{closeOnClick: true, theme: 'colored'})\n        }\n\n        this.state.LoadingPop = true\n        this.forceUpdate()\n        if (this.state.Content.Image !== '') {\n            const form = new FormData()\n            form.append(this.state.Content.Image.name, this.state.Content.Image)\n            const resp = await fetch( serverPath() + \"api/Files/ImageContent.php\", {\n                method:\"POST\",\n                headers: {\n                    'Access-Control-Allow-Origin':'*',\n                    // 'Content-Type': 'multipart/form-data'\n                },\n                body: form,\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n            if (resp == null) {\n                console.log('Błąd w przesyłaniu plików')\n            } else {\n                if (resp['CODE'] === 'OK') {\n                    this.state.Content.Image = resp['Files'][this.state.Content.Image.name]\n                    console.log('Udało sie przesyłać pliki')\n                } else {\n                    console.log('Błąd w przesyłaniu plików')\n                }\n            }\n        }\n        for (let i = 0; i < this.state.Content.Lesson.length; i++) {\n            if (this.state.Content.Lesson[i].Files.length > 0) await this.sendFiles(i)\n            else this.state.Content.Lesson[i].Files = ''\n            if (this.state.Content.Lesson[i].Text.length > 0) await this.ImageFromEditor(i)\n        }\n        try {\n            const resp = await fetch(serverPath() + \"api/Lessons/CreateLesson.php\", {\n                method: \"POST\",\n                headers: {\n                    'Access-Control-Allow-Origin':'*',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.state.Content),\n                credentials: 'include'\n            }).then(data => data.json()).catch(null)\n\n            if (resp !== null) {\n                if (resp[\"CODE\"] === 'OK') {\n                    // window.sessionStorage.setItem('Token', resp['Token'])\n                    this.state.LessonCreated = true\n                    this.state.UrlPath = window.location.origin + '/main/lesson?ID=' + resp['ID']\n                    this.forceUpdate()\n                     return true\n                } else {\n                    Report.failure(\n                        'Wystąpił błąd!',\n                        'Wystapił niznany błąd podczas tworzenia leckji, spróbój ponownie później!',\n                        'OK',\n                        () => {\n                            window.location.reload()\n                        }\n                    );\n                    return false\n                }\n            } else return false;\n        } catch (e) {\n            Report.failure(\n                'Wystąpił błąd!',\n                'Wystapił niznany błąd podczas tworzenia leckji, spróbój ponownie później! <br>' + e.toString(),\n                'OK',\n                () => {\n                    window.location.reload()\n                }\n            );\n            return false\n        }\n    }\n\n    test() {\n        console.log(this.state.Content.Users, this.state.Content.Groups)\n    }\n\n    render() {\n        if (this.state.LoadingPop) return (\n            <div className={'CreateLesson_main_view'}>\n                <div className={'CreateLesson_main_view_header'}>\n                    <h1>Tworzenie lekcje</h1>\n                </div>\n                {this.CreatingLessonPop()}\n            </div>\n        )\n        else return(\n            <div className={'CreateLesson_main_view'}>\n                <div className={'CreateLesson_main_view_header'}>\n                    <h1>Tworzenie lekcje</h1>\n                </div>\n                <div className={'CreateLesson_main_view_body'}>\n                    <div style={{borderBottom: '1px solid #282c34'}} onClick={() => {document.querySelector('#subject_input').focus()}} className={'CreateLesson_main_view_body_text'}>\n                        <h2>Temat</h2>\n                        <input id={'subject_input'} type={'text'}  onChange={(e) => { this.state.Content.Subject = e.target.value }}/>\n                    </div>\n                    <div className={'CreateLesson_main_view_body_seletct_background'}>\n                        <a style={{display: 'inline-block', margin: '10px 0 0 0'}}>Ustaw zdjecie lekcji</a>\n                        <label className={'CreateLesson_main_view_select_image'}>\n                            <input type={'file'} style={{display: 'none'}} accept={'image/png, image/gif, image/jpeg'}\n                                   onChange={(e) => {\n                                       this.onSelectedFIle(e)\n                                   }}/>\n                            Wybierz\n                        </label>\n\n                        {this.state.EditFile &&\n                            <Cropper src={'https://wallpaperaccess.com/full/1916098.jpg'}\n                                  className={'CreateLesson_main_view_body_seletct_background_edit'}\n                                  aspectRatio={16 / 9}\n                                  guides={false}\n                                  checkCrossOrigin={false}\n                                  responsive={true}\n                                  scaleX={1}\n                                  viewMode={3}\n                                  autoCropArea={1}\n                                  minCropBoxHeight={100}\n                                  minCropBoxWidth={250}\n                                  crop={this.onCrop.bind(this)}\n                                  ref={this.cropref }\n                            />\n                        }\n\n                    </div>\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Opis lekcji (Opcjonalne)</a>\n                        <textarea placeholder={'Opis'} onChange={(e) => {this.state.Content.Desc = e.target.value}}></textarea>\n                    </div>\n                    <h2>Zawartość lekcji</h2>\n                    {this.RenderChapters()}\n                    { this.state.Content.Lesson.length < 10 && <button className={'CreateLesson_main_view_add_chapter'} onClick={this.addChapter.bind(this)}>Dodaj\n                        rozdział</button>}\n                    <h2>Dostępność lekcji</h2>\n                    {/*<div className={'CreateLesson_main_view_body_text'}>*/}\n                    {/*    <label className=\"container_lesson\">*/}\n                    {/*        <input type=\"checkbox\" onChange={(e) => {this.state.Content.EnableCode = (e.target.value ? 1 : 0); this.forceUpdate()}} />*/}\n                    {/*        <span className=\"checkmark_lesson\"></span>*/}\n                    {/*    </label>*/}\n                    {/*    <a>Zabezpiecz dostęp do lekcje kodem</a>*/}\n                    {/*    {*/}\n                    {/*        this.state.Content.EnableCode === 1 &&*/}\n                    {/*        <div className={'CreateLesson_main_view_PassCode'}>*/}\n                    {/*            <a style={{display: 'block', margin: '0 10px 10px 10px', paddingLeft: '20px'}}>Aby wykonywać*/}\n                    {/*                daną lekcja trzeba najpierw podać ten kod.</a>*/}\n                    {/*            <input type={'text'} placeholder={'Kod'} onChange={(e) => {this.state.Content.Code = e.target.value} }/>*/}\n                    {/*            <button>*/}\n                    {/*                Generuj losowy kod*/}\n                    {/*            </button>*/}\n                    {/*        </div>*/}\n                    {/*    }*/}\n                    {/*</div>*/}\n                    {/*<div className={'CreateLesson_main_view_body_text'}>*/}\n                    {/*    <label className=\"container_lesson\">*/}\n                    {/*        <input type=\"checkbox\" onChange={(e) => {this.state.Content.CanExpire = (e.target.value ? 1 : 0); this.forceUpdate()}} />*/}\n                    {/*        <span className=\"checkmark_lesson\"></span>*/}\n                    {/*    </label>*/}\n                    {/*    <a>Ogranicz czasowo widocznośc lekcji</a>*/}\n                    {/*    {*/}\n                    {/*        this.state.Content.CanExpire === 1 &&*/}\n                    {/*        <div style={{width: 'fit-content'}} className={'CreateLesson_main_view_expire_date'}>*/}\n                    {/*            <a>Data po której lekcja nie będzie już widoczna</a>*/}\n                    {/*            <input*/}\n                    {/*                id={'CreateLesson_main_view_expire_date_input'}*/}\n                    {/*                onClick={() => {*/}\n                    {/*                    {*/}\n                    {/*                        this.setState({CalendarOpen: true})*/}\n                    {/*                    }*/}\n                    {/*                }}*/}\n                    {/*                type={'button'}*/}\n                    {/*                value={'2022-04-1'}*/}\n                    {/*            />*/}\n                    {/*            {this.state.CalendarOpen && <Calendar_pop onSelect={(e) => {*/}\n                    {/*                this.ClickOnDate(e)*/}\n                    {/*            }} close={() => {*/}\n                    {/*                this.setState({CalendarOpen: false})*/}\n                    {/*            }}/>}*/}\n                    {/*        </div>*/}\n                    {/*    }*/}\n                    {/*</div>*/}\n                    <div className={'CreateLesson_main_view_body_text'}>\n                        <a>Przypisz użytkowników badź grupy do lekcji.</a>\n                        <ShareLesson users={this.state.Content.Users} group={this.state.Content.Groups} />\n                    </div>\n                </div>\n\n                <div className={'CreateLesson_main_view_summary'}>\n                    {/*<button onClick={this.test.bind(this)}>Stwórz</button>*/}\n                    <button onClick={this.sendForm.bind(this)}>Stwórz</button>\n                </div>\n            </div>\n        )\n    }\n\n}"]},"metadata":{},"sourceType":"module"}