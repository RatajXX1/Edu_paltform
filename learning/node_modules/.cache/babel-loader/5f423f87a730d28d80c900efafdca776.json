{"ast":null,"code":"import _asyncToGenerator from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/michalratajewski/edupage/files/learning/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import'../../styles/menu_bar.css';import{Link}from\"react-router-dom\";import serverPath from\"../../utilis/server-path\";import SimpleBar from\"simplebar-react\";import'simplebar/dist/simplebar.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu_bar=/*#__PURE__*/function(_React$Component){_inherits(Menu_bar,_React$Component);var _super=_createSuper(Menu_bar);function Menu_bar(props){var _this;_classCallCheck(this,Menu_bar);_this=_super.call(this,props);_this.state={mobile_view:false,Groups:[],PageGroups:0,CanLoadGroups:false};_this.setWrapperRef=_this.setWrapperRef.bind(_assertThisInitialized(_this));_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));return _this;}_createClass(Menu_bar,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;document.addEventListener(\"mousedown\",this.handleClickOutside);this.bindOpenMobile();window.addEventListener('resize',function(){if(_this2.state.mobile_view){_this2.state.mobile_view=false;_this2.forceUpdate();}});this.GetGroups();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"mousedown\",this.handleClickOutside);}},{key:\"GetGroups\",value:function(){var _GetGroups=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(serverPath()+\"api/Groups/Ugroup.php?page=\".concat(this.state.PageGroups),{method:'GET',headers:{'Access-Control-Allow-Origin':'*'},credentials:'include'}).then(function(sx){return sx.json();}).catch(null);case 3:resp=_context.sent;if(resp!==null){if(resp['CODE']==='OK'){this.state.Groups=this.state.Groups.concat(resp['Groups']);if(Object.entries(resp['Groups']).length>=25)this.state.CanLoadGroups=true;this.forceUpdate();}}_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function GetGroups(){return _GetGroups.apply(this,arguments);}return GetGroups;}()},{key:\"renderGroups\",value:function renderGroups(){var tab=[];// for (let i = 0; i < this.state.Groups.length; i++) {\nfor(var i=0;i<this.state.Groups.length;i++){tab.push(/*#__PURE__*/_jsxs(\"li\",{className:'Menu_bar_main_item',children:[/*#__PURE__*/_jsx(\"svg\",{id:\"Layer_1\",\"data-name\":\"Layer 1\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 25 25\",children:/*#__PURE__*/_jsx(\"path\",{id:\"Group_People\",\"data-name\":\"Group People\",d:\"M16.75,19H16v5.5a.5.5,0,0,1-.5.5h-6a.5.5,0,0,1-.5-.5V19H8.25A1.25,1.25,0,0,1,7,17.75v-3.5a4.25,4.25,0,0,1,3.23-4.11,3.5,3.5,0,1,1,4.55,0A4.25,4.25,0,0,1,18,14.25v3.5A1.25,1.25,0,0,1,16.75,19ZM6,17.75v-3.5A5.23,5.23,0,0,1,8.6,9.73a4.27,4.27,0,0,1-.41-3.45,4.39,4.39,0,0,0-.43-.14,3.5,3.5,0,1,0-4.55,0A4.25,4.25,0,0,0,0,10.25v3.5A1.25,1.25,0,0,0,1.24,15H2v5.5a.5.5,0,0,0,.5.5h5a.5.5,0,0,0,.5-.5V20A2.25,2.25,0,0,1,6,17.75ZM21.77,6.14a3.5,3.5,0,1,0-4.54,0,4.32,4.32,0,0,0-.42.14,4.27,4.27,0,0,1-.41,3.45A5.23,5.23,0,0,1,19,14.25v3.5A2.25,2.25,0,0,1,17,20v.51a.5.5,0,0,0,.5.5h5a.5.5,0,0,0,.5-.5V15h.75A1.25,1.25,0,0,0,25,13.75v-3.5A4.25,4.25,0,0,0,21.77,6.14Z\"})}),/*#__PURE__*/_jsx(\"div\",{className:'Menu_bar_main_item_bts',children:/*#__PURE__*/_jsx(Link,{to:'/main/lessonsGroup?ID='+this.state.Groups[i].GID,children:this.state.Groups[i].Gname})})]}));}return tab;}},{key:\"setWrapperRef\",value:function setWrapperRef(node){this.wrapperRef=node;}},{key:\"handleClickOutside\",value:function handleClickOutside(event){if(this.wrapperRef&&!this.wrapperRef.contains(event.target)&&!document.querySelector('.head_bar_main').contains(event.target)){if(this.state.mobile_view){this.state.mobile_view=false;this.forceUpdate();}}}},{key:\"bindOpenMobile\",value:function bindOpenMobile(){var _this3=this;if(this.props.mobileBt!==undefined){document.querySelector(this.props.mobileBt).addEventListener('click',function(){if(_this3.state.mobile_view){_this3.state.mobile_view=false;_this3.forceUpdate();}else{_this3.state.mobile_view=true;_this3.forceUpdate();}});}}},{key:\"show_options\",value:function show_options(id){// console.log(id)\nif(document.querySelector(id).style.display==''){document.querySelector(id).style.display='none';document.querySelector(id+'_button').style.transform='';document.querySelector(id+'_button').style.top='';document.querySelector(id+'_button').style.left='';}else{document.querySelector(id).style.display='';document.querySelector(id+'_button').style.transform='scale(-1)';document.querySelector(id+'_button').style.top='-1px';document.querySelector(id+'_button').style.left='-1px';}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{ref:this.setWrapperRef,className:this.state.mobile_view?'Menu_bar_main Menu_bar_mobile':'Menu_bar_main',children:/*#__PURE__*/_jsx(SimpleBar,{forceVisible:\"y\",autoHide:false,style:{width:'99%',height:'99%'},children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:'Menu_bar_main_item',children:/*#__PURE__*/_jsxs(\"div\",{className:'Menu_bar_main_item_bts',children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-person-lines-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"})}),/*#__PURE__*/_jsx(Link,{to:\"/main/dashboard\",children:\"Dashboard\"})]})}),parseInt(this.props.User_data.Rank_type)>=3&&/*#__PURE__*/_jsxs(\"li\",{className:'Menu_bar_main_item',children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-gear\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'Menu_bar_main_item_bts',onClick:this.show_options.bind(this,'#Menage_select'),children:[/*#__PURE__*/_jsx(\"a\",{children:\"Zarz\\u0105dzaj\"}),/*#__PURE__*/_jsx(\"button\",{className:'Menu_bar_main_item_show_more',children:/*#__PURE__*/_jsx(\"svg\",{id:'Menage_select_button',xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"})})})]})]}),parseInt(this.props.User_data.Rank_type)>=3&&/*#__PURE__*/_jsxs(\"ul\",{id:'Menage_select',className:'additional_list',style:{display:'none'},children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:'/admin/users',children:\"U\\u017Cytkownicy\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:'/admin/groups',children:\"Grupy\"})})]}),parseInt(this.props.User_data.Rank_type)>=2&&/*#__PURE__*/_jsx(\"li\",{className:'Menu_bar_main_item',children:/*#__PURE__*/_jsxs(\"div\",{className:'Menu_bar_main_item_bts',children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-file-earmark-plus\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"})]}),/*#__PURE__*/_jsx(Link,{to:'/main/createlesson',children:\"Stw\\xF3rz lekcje\"})]})}),parseInt(this.props.User_data.Rank_type)>=2&&/*#__PURE__*/_jsx(\"li\",{className:'Menu_bar_main_item',children:/*#__PURE__*/_jsxs(\"div\",{className:'Menu_bar_main_item_bts',children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-inboxes-fill\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M4.98 1a.5.5 0 0 0-.39.188L1.54 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h4.46l-3.05-3.812A.5.5 0 0 0 11.02 1H4.98zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .106-.374L3.81.563zM.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393z\"})}),/*#__PURE__*/_jsx(Link,{to:'/main/createdLesson',children:\"Stworzone lekcje\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:'Menu_bar_main_item',children:/*#__PURE__*/_jsxs(\"div\",{className:'Menu_bar_main_item_bts',children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",className:\"bi bi-mortarboard\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917l-7.5-3.5ZM8 8.46 1.758 5.965 8 3.052l6.242 2.913L8 8.46Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466 4.176 9.032Zm-.068 1.873.22-.748 3.496 1.311a.5.5 0 0 0 .352 0l3.496-1.311.22.748L8 12.46l-3.892-1.556Z\"})]}),/*#__PURE__*/_jsx(Link,{to:'/main/lessons',children:\"Wszystkie lekcje\"})]})}),this.renderGroups()]})})});}}]);return Menu_bar;}(React.Component);export default Menu_bar;","map":{"version":3,"sources":["/Users/michalratajewski/edupage/files/learning/src/windows/dashboard/menu_bar.js"],"names":["React","Link","serverPath","SimpleBar","Menu_bar","props","state","mobile_view","Groups","PageGroups","CanLoadGroups","setWrapperRef","bind","handleClickOutside","document","addEventListener","bindOpenMobile","window","forceUpdate","GetGroups","removeEventListener","fetch","method","headers","credentials","then","sx","json","catch","resp","concat","Object","entries","length","tab","i","push","GID","Gname","node","wrapperRef","event","contains","target","querySelector","mobileBt","undefined","id","style","display","transform","top","left","width","height","parseInt","User_data","Rank_type","show_options","renderGroups","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../../styles/menu_bar.css';\nimport {Link} from \"react-router-dom\";\nimport serverPath from \"../../utilis/server-path\";\nimport SimpleBar from \"simplebar-react\";\nimport 'simplebar/dist/simplebar.min.css';\n\nclass Menu_bar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobile_view: false,\n            Groups: [],\n            PageGroups: 0,\n            CanLoadGroups: false,\n        }\n        this.setWrapperRef = this.setWrapperRef.bind(this);\n        this.handleClickOutside = this.handleClickOutside.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener(\"mousedown\", this.handleClickOutside);\n        this.bindOpenMobile()\n        window.addEventListener('resize', () => {\n            if (this.state.mobile_view) {\n                this.state.mobile_view = false\n                this.forceUpdate()\n            }\n        })\n        this.GetGroups()\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener(\"mousedown\", this.handleClickOutside);\n    }\n\n    async GetGroups() {\n        try {\n            const resp = await fetch(\n                serverPath() + `api/Groups/Ugroup.php?page=${this.state.PageGroups}`,\n                {\n                    method: 'GET',\n                    headers: {\n                        'Access-Control-Allow-Origin': '*'\n                    },\n                    credentials: 'include'\n                }\n            ).then(sx => sx.json()).catch(null)\n\n            if (resp !== null) {\n                if (resp['CODE'] === 'OK') {\n                    this.state.Groups = this.state.Groups.concat(resp['Groups'])\n                    if (Object.entries(resp['Groups']).length >= 25) this.state.CanLoadGroups = true\n                    this.forceUpdate()\n                }\n            }\n\n\n        } catch (e) {\n\n        }\n    }\n\n    renderGroups() {\n        const tab = []\n        // for (let i = 0; i < this.state.Groups.length; i++) {\n        for (let i = 0; i < this.state.Groups.length; i++) {\n            tab.push(\n                <li className={'Menu_bar_main_item'}>\n                    <svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 25\"><path id=\"Group_People\" data-name=\"Group People\" d=\"M16.75,19H16v5.5a.5.5,0,0,1-.5.5h-6a.5.5,0,0,1-.5-.5V19H8.25A1.25,1.25,0,0,1,7,17.75v-3.5a4.25,4.25,0,0,1,3.23-4.11,3.5,3.5,0,1,1,4.55,0A4.25,4.25,0,0,1,18,14.25v3.5A1.25,1.25,0,0,1,16.75,19ZM6,17.75v-3.5A5.23,5.23,0,0,1,8.6,9.73a4.27,4.27,0,0,1-.41-3.45,4.39,4.39,0,0,0-.43-.14,3.5,3.5,0,1,0-4.55,0A4.25,4.25,0,0,0,0,10.25v3.5A1.25,1.25,0,0,0,1.24,15H2v5.5a.5.5,0,0,0,.5.5h5a.5.5,0,0,0,.5-.5V20A2.25,2.25,0,0,1,6,17.75ZM21.77,6.14a3.5,3.5,0,1,0-4.54,0,4.32,4.32,0,0,0-.42.14,4.27,4.27,0,0,1-.41,3.45A5.23,5.23,0,0,1,19,14.25v3.5A2.25,2.25,0,0,1,17,20v.51a.5.5,0,0,0,.5.5h5a.5.5,0,0,0,.5-.5V15h.75A1.25,1.25,0,0,0,25,13.75v-3.5A4.25,4.25,0,0,0,21.77,6.14Z\"/></svg>\n                    <div className={'Menu_bar_main_item_bts'}>\n                        <Link to={'/main/lessonsGroup?ID=' + this.state.Groups[i].GID} >\n                            {\n                                this.state.Groups[i].Gname\n                            }\n\n                        </Link>\n                    </div>\n                </li>\n            )\n        }\n        return tab\n    }\n\n    setWrapperRef(node) {\n        this.wrapperRef = node;\n    }\n\n    handleClickOutside(event) {\n        if (this.wrapperRef && !this.wrapperRef.contains(event.target) && !document.querySelector('.head_bar_main').contains(event.target)) {\n            if (this.state.mobile_view) {\n                this.state.mobile_view = false\n                this.forceUpdate()\n            }\n        }\n    }\n\n    bindOpenMobile() {\n        if (this.props.mobileBt !== undefined) {\n            document.querySelector(this.props.mobileBt)\n                .addEventListener('click', () => {\n                    if (this.state.mobile_view) {\n                        this.state.mobile_view = false\n                        this.forceUpdate()\n                    } else {\n                        this.state.mobile_view = true\n                        this.forceUpdate()\n                    }\n                })\n        }\n    }\n\n    show_options(id) {\n        // console.log(id)\n        if (document.querySelector(id).style.display == '') {\n            document.querySelector(id).style.display = 'none'\n            document.querySelector(id + '_button').style.transform = ''\n            document.querySelector(id + '_button').style.top = ''\n            document.querySelector(id + '_button').style.left = ''\n        }\n        else {\n            document.querySelector(id).style.display = ''\n            document.querySelector(id + '_button').style.transform = 'scale(-1)'\n            document.querySelector(id + '_button').style.top = '-1px'\n            document.querySelector(id + '_button').style.left = '-1px'\n        }\n\n    }\n\n    render() {\n        return (\n            <div ref={this.setWrapperRef} className={this.state.mobile_view ? 'Menu_bar_main Menu_bar_mobile' : 'Menu_bar_main' } >\n                <SimpleBar forceVisible=\"y\" autoHide={false} style={{width: '99%', height: '99%'}}>\n                    <ul>\n                        <li className={'Menu_bar_main_item'} >\n                            <div className={'Menu_bar_main_item_bts'}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                     className=\"bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                                </svg>\n                                {/*<a>Dashboard</a>*/}\n                                <Link to={\"/main/dashboard\"}>Dashboard</Link>\n                            </div>\n\n                        </li>\n                        {\n                            parseInt(this.props.User_data.Rank_type) >= 3 &&\n                            <li className={'Menu_bar_main_item'}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                     className=\"bi bi-gear\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\"/>\n                                    <path\n                                        d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\"/>\n                                </svg>\n                                <div className={'Menu_bar_main_item_bts'}\n                                     onClick={this.show_options.bind(this, '#Menage_select')}>\n                                    <a>Zarządzaj</a>\n                                    <button className={'Menu_bar_main_item_show_more'}>\n                                        <svg id={'Menage_select_button'} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\"\n                                             height=\"16\"\n                                             viewBox=\"0 0 16 16\">\n                                            <path\n                                                d=\"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z\"/>\n                                        </svg>\n                                    </button>\n                                </div>\n                            </li>\n                        }\n                        {\n                            parseInt(this.props.User_data.Rank_type) >= 3 &&\n                            <ul id={'Menage_select'} className={'additional_list'} style={{display: 'none'}}>\n                                <li>\n                                    <Link to={'/admin/users'}>Użytkownicy</Link>\n                                </li>\n                                <li>\n                                    <Link to={'/admin/groups'}>Grupy</Link>\n                                </li>\n                                {/*<li>*/}\n                                {/*    <Link to={'/'}>Lekcje</Link>*/}\n                                {/*</li>*/}\n                            </ul>\n                        }\n                        {\n                            parseInt(this.props.User_data.Rank_type) >= 2 &&\n                            <li className={'Menu_bar_main_item'}>\n                                <div className={'Menu_bar_main_item_bts'}>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                         className=\"bi bi-file-earmark-plus\" viewBox=\"0 0 16 16\">\n                                        <path\n                                            d=\"M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z\"/>\n                                        <path\n                                            d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"/>\n                                    </svg>\n                                    {/*<a>Wszystkie lekcje</a>*/}\n                                    <Link to={'/main/createlesson'}>Stwórz lekcje</Link>\n                                </div>\n                            </li>\n                        }\n                        {\n                            parseInt(this.props.User_data.Rank_type) >= 2 &&\n                            <li className={'Menu_bar_main_item'}>\n                                <div className={'Menu_bar_main_item_bts'}>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                         className=\"bi bi-inboxes-fill\" viewBox=\"0 0 16 16\">\n                                        <path\n                                            d=\"M4.98 1a.5.5 0 0 0-.39.188L1.54 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h4.46l-3.05-3.812A.5.5 0 0 0 11.02 1H4.98zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .106-.374L3.81.563zM.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393z\"/>\n                                    </svg>\n                                    {/*<a>Wszystkie lekcje</a>*/}\n                                    <Link to={'/main/createdLesson'}>Stworzone lekcje</Link>\n                                </div>\n                            </li>\n                        }\n                        <li className={'Menu_bar_main_item'} >\n                            <div className={'Menu_bar_main_item_bts'}>\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"\n                                     className=\"bi bi-mortarboard\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M8.211 2.047a.5.5 0 0 0-.422 0l-7.5 3.5a.5.5 0 0 0 .025.917l7.5 3a.5.5 0 0 0 .372 0L14 7.14V13a1 1 0 0 0-1 1v2h3v-2a1 1 0 0 0-1-1V6.739l.686-.275a.5.5 0 0 0 .025-.917l-7.5-3.5ZM8 8.46 1.758 5.965 8 3.052l6.242 2.913L8 8.46Z\"/>\n                                    <path\n                                        d=\"M4.176 9.032a.5.5 0 0 0-.656.327l-.5 1.7a.5.5 0 0 0 .294.605l4.5 1.8a.5.5 0 0 0 .372 0l4.5-1.8a.5.5 0 0 0 .294-.605l-.5-1.7a.5.5 0 0 0-.656-.327L8 10.466 4.176 9.032Zm-.068 1.873.22-.748 3.496 1.311a.5.5 0 0 0 .352 0l3.496-1.311.22.748L8 12.46l-3.892-1.556Z\"/>\n                                </svg>\n                                {/*<a>Wszystkie lekcje</a>*/}\n                                <Link to={'/main/lessons'}>Wszystkie lekcje</Link>\n                            </div>\n\n                        </li>\n                        {\n                            this.renderGroups()\n                        }\n                    </ul>\n                </SimpleBar>\n            </div>\n        )\n    }\n\n}\n\nexport default Menu_bar;"]},"metadata":{},"sourceType":"module"}